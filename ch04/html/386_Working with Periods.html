<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta http-equiv="X-UA-Compatible" content="ie=edge">
<title>Markmap</title>
<style>
* {
  margin: 0;
  padding: 0;
}
#mindmap {
  display: block;
  width: 100vw;
  height: 100vh;
}
</style>
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/markmap-toolbar@0.18.10/dist/style.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@highlightjs/cdn-assets@11.11.1/styles/default.min.css">
</head>
<body>
<svg id="mindmap"></svg>
<script src="https://cdn.jsdelivr.net/npm/d3@7.9.0/dist/d3.min.js"></script><script src="https://cdn.jsdelivr.net/npm/markmap-view@0.18.10/dist/browser/index.js"></script><script src="https://cdn.jsdelivr.net/npm/markmap-toolbar@0.18.10/dist/index.js"></script><script>(r => {
              setTimeout(r);
            })(function renderToolbar() {
  const {
    markmap,
    mm
  } = window;
  const {
    el
  } = markmap.Toolbar.create(mm);
  el.setAttribute('style', 'position:absolute;bottom:20px;right:20px');
  document.body.append(el);
})</script><script>((getMarkmap, getOptions, root2, jsonOptions) => {
              const markmap = getMarkmap();
              window.mm = markmap.Markmap.create(
                "svg#mindmap",
                (getOptions || markmap.deriveOptions)(jsonOptions),
                root2
              );
            })(() => window.markmap,null,{"content":"<strong>Working with Periods</strong>","children":[{"content":"\n<p data-lines=\"6,10\">Our zoo performs animal enrichment activities to give the<br>\nanimals something enjoyable to do. The head zookeeper<br>\nhas decided to switch the toys every month. This system<br>\nwill continue for three months to see how it works out.</p>","children":[{"content":"Java has a <code>Period</code> class that we can pass in.<pre data-lines=\"12,27\"><code class=\"language-java\">  <span class=\"hljs-keyword\">public</span> <span class=\"hljs-keyword\">static</span> <span class=\"hljs-keyword\">void</span> <span class=\"hljs-title function_\">main</span><span class=\"hljs-params\">(String[] args)</span> {\n    <span class=\"hljs-type\">var</span> <span class=\"hljs-variable\">start</span> <span class=\"hljs-operator\">=</span> LocalDate.of(<span class=\"hljs-number\">2025</span>, Month.JANUARY, <span class=\"hljs-number\">1</span>);\n    <span class=\"hljs-type\">var</span> <span class=\"hljs-variable\">end</span> <span class=\"hljs-operator\">=</span> LocalDate.of(<span class=\"hljs-number\">2025</span>, Month.MARCH, <span class=\"hljs-number\">30</span>);\n    <span class=\"hljs-type\">var</span> <span class=\"hljs-variable\">period</span> <span class=\"hljs-operator\">=</span> Period.ofMonths(<span class=\"hljs-number\">1</span>); <span class=\"hljs-comment\">// create a period</span>\n    activities(start, end, period);\n  }\n  <span class=\"hljs-keyword\">private</span> <span class=\"hljs-keyword\">static</span> <span class=\"hljs-keyword\">void</span> <span class=\"hljs-title function_\">activities</span><span class=\"hljs-params\">(LocalDate start, LocalDate end,\n      Period period)</span> { <span class=\"hljs-comment\">// uses the generic period</span>\n    <span class=\"hljs-type\">var</span> <span class=\"hljs-variable\">upTo</span> <span class=\"hljs-operator\">=</span> start;\n    <span class=\"hljs-keyword\">while</span> (upTo.isBefore(end)) {\n      System.out.println(<span class=\"hljs-string\">&quot;give new toy: &quot;</span> + upTo);\n      upTo = upTo.plus(period); <span class=\"hljs-comment\">// adds the period</span>\n  } }\n</code></pre>","children":[{"content":"The method can add an arbitrary period of time that is<br>\npassed in. This allows us to reuse the same method for<br>\ndifferent periods of time.","children":[],"payload":{"tag":"li","lines":"27,30"}},{"content":"A <code>Period</code> can be positive (forward in time) or negative (backwards in time.) There are<br>\nfive ways to create a <code>Period</code> class.<pre data-lines=\"32,39\"><code class=\"language-java\"><span class=\"hljs-type\">var</span> <span class=\"hljs-variable\">annually</span> <span class=\"hljs-operator\">=</span> Period.ofYears(<span class=\"hljs-number\">1</span>); <span class=\"hljs-comment\">// every 1 year</span>\n<span class=\"hljs-type\">var</span> <span class=\"hljs-variable\">quarterly</span> <span class=\"hljs-operator\">=</span> Period.ofMonths(<span class=\"hljs-number\">3</span>); <span class=\"hljs-comment\">// every 3 months</span>\n<span class=\"hljs-type\">var</span> <span class=\"hljs-variable\">everyThreeWeeks</span> <span class=\"hljs-operator\">=</span> Period.ofWeeks(-<span class=\"hljs-number\">3</span>); <span class=\"hljs-comment\">// every 3 weeks going backwards</span>\n<span class=\"hljs-type\">var</span> <span class=\"hljs-variable\">everyOtherDay</span> <span class=\"hljs-operator\">=</span> Period.ofDays(<span class=\"hljs-number\">2</span>); <span class=\"hljs-comment\">// every 2 days</span>\n<span class=\"hljs-type\">var</span> <span class=\"hljs-variable\">everyYearAndAWeek</span> <span class=\"hljs-operator\">=</span> Period.of(<span class=\"hljs-number\">1</span>, <span class=\"hljs-number\">0</span>, <span class=\"hljs-number\">7</span>); <span class=\"hljs-comment\">// every year plus 1 week</span>\n</code></pre>","children":[{"content":"<strong><span style=\"color:#008000\">You cannot chain methods when creating a <code>Period</code>.</span></strong> The following<br>\ncode looks like it is equivalent to the <code>everyYearAndAWeek</code> example, but<br>\nit&#x2019;s not. <strong><span style=\"color:#008000\">Only the last method is used because the methods are<br>\n<code>static</code> methods.</span></strong><pre data-lines=\"43,46\"><code class=\"language-java\"><span class=\"hljs-type\">var</span> <span class=\"hljs-variable\">wrong</span> <span class=\"hljs-operator\">=</span> Period.ofYears(<span class=\"hljs-number\">1</span>).ofWeeks(<span class=\"hljs-number\">1</span>); <span class=\"hljs-comment\">// every week</span>\n</code></pre>","children":[{"content":"\n<p data-lines=\"46,47\">This tricky code is really like writing the following:</p>\n<pre data-lines=\"47,51\"><code class=\"language-java\"><span class=\"hljs-type\">var</span> <span class=\"hljs-variable\">wrong</span> <span class=\"hljs-operator\">=</span> Period.ofYears(<span class=\"hljs-number\">1</span>);\nwrong = Period.ofWeeks(<span class=\"hljs-number\">1</span>);\n</code></pre>\n<p data-lines=\"51,54\">This is clearly not what you intended! That&#x2019;s why the <code>of()</code><br>\nmethod allows you to pass in the number of years, months,<br>\nand days. They are all included in the same period.</p>","children":[{"content":"The <code>of()</code> method takes only years, months, and days. The<br>\nability to use another factory method to pass weeks is<br>\nmerely a convenience. As you might imagine, the actual<br>\nperiod is stored in terms of years, months, and days. When<br>\nyou print out the value, <strong>Java displays any nonzero parts</strong><br>\nusing the format shown in <a href=\"https://1drv.ms/i/c/c83cfca51d5c2032/EffqyKX6S4lGhK-qZBqf9DkBs9vcLo6LPHShUtyTlDY2_g?e=14OQMr\">Figure 4.9</a>.","children":[{"content":"As you can see, the <code>P</code> always starts out the <code>String</code> to show it<br>\nis a period measure. Then come the number of years, number<br>\nof months, and number of days. <strong>If any of these are zero, they<br>\nare omitted.</strong>","children":[],"payload":{"tag":"li","lines":"61,65"}}],"payload":{"tag":"li","lines":"55,65"}}],"payload":{"tag":"li","lines":"46,65"}}],"payload":{"tag":"li","lines":"39,65"}}],"payload":{"tag":"li","lines":"30,65"}}],"payload":{"tag":"li","lines":"11,65"}}],"payload":{"tag":"li","lines":"6,65"}},{"content":"\n<p data-lines=\"65,66\">Can you figure out what this outputs?</p>\n<pre data-lines=\"66,69\"><code class=\"language-java\">System.out.println(Period.ofMonths(3));\n</code></pre>\n<p data-lines=\"69,71\">The output is <code>P3M</code>. Remember that Java omits<br>\nany measures that are zero.</p>","children":[],"payload":{"tag":"li","lines":"65,72"}},{"content":"\n<p data-lines=\"72,74\">You can also create a period by getting the amount of<br>\ntime between two <code>LocalDate</code> objects:</p>\n<pre data-lines=\"74,81\"><code class=\"language-java\"><span class=\"hljs-type\">var</span> <span class=\"hljs-variable\">oldDate</span> <span class=\"hljs-operator\">=</span> LocalDate.of(<span class=\"hljs-number\">2025</span>, Month.DECEMBER, <span class=\"hljs-number\">25</span>);\n<span class=\"hljs-type\">var</span> <span class=\"hljs-variable\">newDate</span> <span class=\"hljs-operator\">=</span> LocalDate.of(<span class=\"hljs-number\">2026</span>, Month.JANUARY, <span class=\"hljs-number\">1</span>);\n<span class=\"hljs-comment\">// normal date order, the result is positive</span>\n<span class=\"hljs-type\">var</span> <span class=\"hljs-variable\">p1</span> <span class=\"hljs-operator\">=</span> Period.between(oldDate, newDate); <span class=\"hljs-comment\">// P7D</span>\n<span class=\"hljs-type\">var</span> <span class=\"hljs-variable\">p2</span> <span class=\"hljs-operator\">=</span> Period.between(newDate, oldDate); <span class=\"hljs-comment\">// P-7D</span>\n</code></pre>","children":[{"content":"Notice how order matters. The first time <code>Period.between()</code><br>\nreturns a period representing seven days, but the second<br>\ntime it returns a period of negative seven days.","children":[{"content":"The last thing to know about <code>Period</code> is what objects it can be used<br>\nwith. Let&#x2019;s look at some code:<pre data-lines=\"86,95\"><code class=\"language-java\"><span class=\"hljs-number\">3</span>: <span class=\"hljs-type\">var</span> <span class=\"hljs-variable\">date</span> <span class=\"hljs-operator\">=</span> LocalDate.of(<span class=\"hljs-number\">2025</span>, <span class=\"hljs-number\">3</span>, <span class=\"hljs-number\">20</span>);\n<span class=\"hljs-number\">4</span>: <span class=\"hljs-type\">var</span> <span class=\"hljs-variable\">time</span> <span class=\"hljs-operator\">=</span> LocalTime.of(<span class=\"hljs-number\">6</span>, <span class=\"hljs-number\">15</span>);\n<span class=\"hljs-number\">5</span>: <span class=\"hljs-type\">var</span> <span class=\"hljs-variable\">dateTime</span> <span class=\"hljs-operator\">=</span> LocalDateTime.of(date, time);\n<span class=\"hljs-number\">6</span>: <span class=\"hljs-type\">var</span> <span class=\"hljs-variable\">period</span> <span class=\"hljs-operator\">=</span> Period.ofMonths(-<span class=\"hljs-number\">1</span>);\n<span class=\"hljs-number\">7</span>: <span class=\"hljs-type\">var</span> <span class=\"hljs-variable\">p1</span> <span class=\"hljs-operator\">=</span> date.plus(period);     <span class=\"hljs-comment\">// 2025&#x2013;02&#x2013;20</span>\n<span class=\"hljs-number\">8</span>: <span class=\"hljs-type\">var</span> <span class=\"hljs-variable\">p2</span> <span class=\"hljs-operator\">=</span> dateTime.plus(period); <span class=\"hljs-comment\">// 2025&#x2013;02&#x2013;20T06:15</span>\n<span class=\"hljs-number\">9</span>: <span class=\"hljs-type\">var</span> <span class=\"hljs-variable\">p3</span> <span class=\"hljs-operator\">=</span> time.plus(period);     <span class=\"hljs-comment\">// Exception</span>\n</code></pre>\nYou can use <code>Period</code> with <code>LocalDate</code>, <code>LocalDateTime</code> and<br>\n<code>ZonedDateTime</code>.","children":[{"content":"Lines 7 and 8 work as expected. They subtract a month<br>\nfrom March 20, 2025, giving us February 20, 2025. The<br>\nfirst has only the date, and the second has both the date<br>\nand time.<br>\nLine 9 attempts to add a month to an object that has only<br>\na time. This won&#x2019;t work. Java throws an<br>\n<code>UnsupportedTemporalTypeException</code> and complains that we<br>\nattempted to use an <code>Unsupported unit: Months</code>.","children":[],"payload":{"tag":"li","lines":"97,105"}}],"payload":{"tag":"li","lines":"84,105"}}],"payload":{"tag":"li","lines":"81,105"}}],"payload":{"tag":"li","lines":"72,105"}},{"content":"\n<p data-lines=\"105,112\"><strong>Working with Durations</strong><br>\nYou&#x2019;ve probably noticed by now that a <code>Period</code> is a day or<br>\nmore of time. There is also <code>Duration</code>, which is intended for<br>\nsmaller units of time. For <code>Duration</code>, you can specify the<br>\nnumber of days, hours, minutes, seconds, or nanoseconds.<br>\nYou can use <code>Duration</code> with <code>LocalTime</code>, <code>LocalDateTime</code> and<br>\n<code>ZonedDateTime</code>.</p>","children":[{"content":"Conveniently, <code>Duration</code> works roughly the same way as<br>\n<code>Period</code>, except it is used with objects that have time. <code>Duration</code><br>\nis output beginning with <code>PT</code>, which you can think of as a period<br>\nof time. A <code>Duration</code> is stored in hours, minutes, and seconds.<br>\nThe number of seconds includes fractional seconds.","children":[{"content":"We can create a <code>Duration</code> using a number of different granularities:<pre data-lines=\"118,126\"><code class=\"language-java\"><span class=\"hljs-type\">var</span> <span class=\"hljs-variable\">twoDays</span> <span class=\"hljs-operator\">=</span> Duration.ofDays(<span class=\"hljs-number\">2</span>); <span class=\"hljs-comment\">// PT48H</span>\n<span class=\"hljs-type\">var</span> <span class=\"hljs-variable\">hourly</span> <span class=\"hljs-operator\">=</span> Duration.ofHours(<span class=\"hljs-number\">1</span>); <span class=\"hljs-comment\">// PT1H</span>\n<span class=\"hljs-type\">var</span> <span class=\"hljs-variable\">everyMinute</span> <span class=\"hljs-operator\">=</span> Duration.ofMinutes(<span class=\"hljs-number\">1</span>); <span class=\"hljs-comment\">// PT1M</span>\n<span class=\"hljs-type\">var</span> <span class=\"hljs-variable\">everyTenSeconds</span> <span class=\"hljs-operator\">=</span> Duration.ofSeconds(<span class=\"hljs-number\">10</span>); <span class=\"hljs-comment\">// PT10S</span>\n<span class=\"hljs-type\">var</span> <span class=\"hljs-variable\">everyMilli</span> <span class=\"hljs-operator\">=</span> Duration.ofMillis(<span class=\"hljs-number\">1</span>); <span class=\"hljs-comment\">// PT0.001S</span>\n<span class=\"hljs-type\">var</span> <span class=\"hljs-variable\">everyNano</span> <span class=\"hljs-operator\">=</span> Duration.ofNanos(<span class=\"hljs-number\">1</span>); <span class=\"hljs-comment\">// PT0.000000001S</span>\n</code></pre>","children":[{"content":"<code>Duration</code> doesn&#x2019;t have a factory method that takes multiple<br>\nunits like <code>Period</code> does. If you want something to happen<br>\nevery hour and a half, you specify 90 minutes.","children":[{"content":"<code>Duration</code> includes another more generic factory method. It takes a<br>\nnumber and a <code>TemporalUnit</code>. The idea is, say, something like &#x201c;5<br>\nseconds.&#x201d; However, <code>TemporalUnit</code> is an interface. At the moment,<br>\nthere is only one implementation named <code>ChronoUnit</code>.<pre data-lines=\"133,136\"><code class=\"language-java\"><span class=\"hljs-keyword\">public</span> <span class=\"hljs-keyword\">static</span> Duration <span class=\"hljs-title function_\">of</span><span class=\"hljs-params\">(<span class=\"hljs-type\">long</span> amount, TemporalUnit unit)</span>\n</code></pre>","children":[{"content":"The previous example could be rewritten like this:<pre data-lines=\"137,145\"><code class=\"language-java\"><span class=\"hljs-type\">var</span> <span class=\"hljs-variable\">twoDays</span> <span class=\"hljs-operator\">=</span> Duration.of(<span class=\"hljs-number\">2</span>, ChronoUnit.DAYS);\n<span class=\"hljs-type\">var</span> <span class=\"hljs-variable\">hourly</span> <span class=\"hljs-operator\">=</span> Duration.of(<span class=\"hljs-number\">1</span>, ChronoUnit.HOURS);\n<span class=\"hljs-type\">var</span> <span class=\"hljs-variable\">everyMinute</span> <span class=\"hljs-operator\">=</span> Duration.of(<span class=\"hljs-number\">1</span>, ChronoUnit.MINUTES);\n<span class=\"hljs-type\">var</span> <span class=\"hljs-variable\">everyTenSeconds</span> <span class=\"hljs-operator\">=</span> Duration.of(<span class=\"hljs-number\">10</span>, ChronoUnit.SECONDS);\n<span class=\"hljs-type\">var</span> <span class=\"hljs-variable\">everyMilli</span> <span class=\"hljs-operator\">=</span> Duration.of(<span class=\"hljs-number\">1</span>, ChronoUnit.MILLIS);\n<span class=\"hljs-type\">var</span> <span class=\"hljs-variable\">everyNano</span> <span class=\"hljs-operator\">=</span> Duration.of(<span class=\"hljs-number\">1</span>, ChronoUnit.NANOS);\n</code></pre>\n<code>ChronoUnit</code> also includes some convenient units such as<br>\n<code>ChronoUnit.HALF_DAYS</code> to represent 12 hours.","children":[],"payload":{"tag":"li","lines":"136,147"}}],"payload":{"tag":"li","lines":"129,147"}}],"payload":{"tag":"li","lines":"126,147"}}],"payload":{"tag":"li","lines":"117,147"}}],"payload":{"tag":"li","lines":"112,147"}}],"payload":{"tag":"li","lines":"105,147"}},{"content":"\n<p data-lines=\"147,151\"><strong>ChronoUnit for Differences</strong><br>\n<code>ChronoUnit</code> is a great way to determine how far apart two <code>Temporal</code> values are.<br>\n<code>Temporal</code> includes <code>LocalDate</code>, <code>LocalTime</code>, and so on. <code>ChronoUnit</code> is in the<br>\n<code>java.time.temporal</code> package.</p>\n<pre data-lines=\"151,159\"><code class=\"language-java\"><span class=\"hljs-type\">var</span> <span class=\"hljs-variable\">one</span> <span class=\"hljs-operator\">=</span> LocalTime.of(<span class=\"hljs-number\">5</span>, <span class=\"hljs-number\">15</span>);\n<span class=\"hljs-type\">var</span> <span class=\"hljs-variable\">two</span> <span class=\"hljs-operator\">=</span> LocalTime.of(<span class=\"hljs-number\">6</span>, <span class=\"hljs-number\">55</span>);\n<span class=\"hljs-type\">var</span> <span class=\"hljs-variable\">date</span> <span class=\"hljs-operator\">=</span> LocalDate.of(<span class=\"hljs-number\">2025</span>, <span class=\"hljs-number\">1</span>, <span class=\"hljs-number\">20</span>);\n<span class=\"hljs-type\">var</span> <span class=\"hljs-variable\">h</span> <span class=\"hljs-operator\">=</span> ChronoUnit.HOURS.between(one, two); <span class=\"hljs-comment\">// 1</span>\n<span class=\"hljs-type\">var</span> <span class=\"hljs-variable\">m</span> <span class=\"hljs-operator\">=</span> ChronoUnit.MINUTES.between(one, two); <span class=\"hljs-comment\">// 100</span>\n<span class=\"hljs-type\">var</span> <span class=\"hljs-variable\">e</span> <span class=\"hljs-operator\">=</span> ChronoUnit.MINUTES.between(one, date); <span class=\"hljs-comment\">// DateTimeException</span>\n</code></pre>","children":[{"content":"The first variable <code>h</code> shows that <code>between</code> truncates rather<br>\nthan rounds. The second shows how easy it is to count<br>\nin different units. Just change the <code>ChronoUnit</code> type. The<br>\nlast reminds us that Java will throw an exception if we<br>\nmix up what can be done on date versus time objects.","children":[{"content":"Alternatively, you can truncate any object with a time element.<br>\nFor example:<pre data-lines=\"166,172\"><code class=\"language-java\"><span class=\"hljs-type\">LocalTime</span> <span class=\"hljs-variable\">time</span> <span class=\"hljs-operator\">=</span> LocalTime.of(<span class=\"hljs-number\">3</span>,<span class=\"hljs-number\">12</span>,<span class=\"hljs-number\">45</span>);\nSystem.out.println(time); <span class=\"hljs-comment\">// 03:12:45</span>\n<span class=\"hljs-type\">LocalTime</span> <span class=\"hljs-variable\">truncated</span> <span class=\"hljs-operator\">=</span> time.truncatedTo(ChronoUnit.MINUTES);\nSystem.out.println(truncated); <span class=\"hljs-comment\">// 03:12</span>\n</code></pre>\nThis example zeroes out any fields smaller than minutes. In our case,<br>\nit gets rid of the seconds.","children":[{"content":"Using a <code>Duration</code> works the same way as using a <code>Period</code>. For example:<pre data-lines=\"175,186\"><code class=\"language-java\"><span class=\"hljs-number\">7</span>:  <span class=\"hljs-type\">var</span> <span class=\"hljs-variable\">date</span> <span class=\"hljs-operator\">=</span> LocalDate.of(<span class=\"hljs-number\">2025</span>, <span class=\"hljs-number\">1</span>, <span class=\"hljs-number\">20</span>);\n<span class=\"hljs-number\">8</span>:  <span class=\"hljs-type\">var</span> <span class=\"hljs-variable\">time</span> <span class=\"hljs-operator\">=</span> LocalTime.of(<span class=\"hljs-number\">6</span>, <span class=\"hljs-number\">15</span>);\n<span class=\"hljs-number\">9</span>:  <span class=\"hljs-type\">var</span> <span class=\"hljs-variable\">dateTime</span> <span class=\"hljs-operator\">=</span> LocalDateTime.of(date, time);\n<span class=\"hljs-number\">10</span>: <span class=\"hljs-type\">var</span> <span class=\"hljs-variable\">duration</span> <span class=\"hljs-operator\">=</span> Duration.ofHours(<span class=\"hljs-number\">6</span>);\n\n<span class=\"hljs-number\">11</span>: <span class=\"hljs-type\">var</span> <span class=\"hljs-variable\">r1</span> <span class=\"hljs-operator\">=</span> dateTime.plus(duration); <span class=\"hljs-comment\">// 2025&#x2013;01&#x2013;20T12:15</span>\n<span class=\"hljs-number\">12</span>: <span class=\"hljs-type\">var</span> <span class=\"hljs-variable\">r2</span> <span class=\"hljs-operator\">=</span> time.plus(duration);     <span class=\"hljs-comment\">// 12:15</span>\n<span class=\"hljs-number\">13</span>: <span class=\"hljs-type\">var</span> <span class=\"hljs-variable\">r3</span> <span class=\"hljs-operator\">=</span> date.plus(duration);\n<span class=\"hljs-number\">14</span>:     <span class=\"hljs-comment\">// UnsupportedTemporalTypeException</span>\n</code></pre>","children":[{"content":"Line 11 shows that we can add hours to a <code>LocalDateTime</code>,<br>\nsince it contains a time. Line 12 also works, since all we<br>\nhave is a time. Line 13 fails because we cannot add hours<br>\nto an object that does not contain a time.","children":[{"content":"Let&#x2019;s try that again, but add 23 hours this time.<pre data-lines=\"191,202\"><code class=\"language-java\"><span class=\"hljs-number\">7</span>:  <span class=\"hljs-type\">var</span> <span class=\"hljs-variable\">date</span> <span class=\"hljs-operator\">=</span> LocalDate.of(<span class=\"hljs-number\">2025</span>, <span class=\"hljs-number\">1</span>, <span class=\"hljs-number\">20</span>);\n<span class=\"hljs-number\">8</span>:  <span class=\"hljs-type\">var</span> <span class=\"hljs-variable\">time</span> <span class=\"hljs-operator\">=</span> LocalTime.of(<span class=\"hljs-number\">6</span>, <span class=\"hljs-number\">15</span>);\n<span class=\"hljs-number\">9</span>:  <span class=\"hljs-type\">var</span> <span class=\"hljs-variable\">dateTime</span> <span class=\"hljs-operator\">=</span> LocalDateTime.of(date, time);\n<span class=\"hljs-number\">10</span>: <span class=\"hljs-type\">var</span> <span class=\"hljs-variable\">duration</span> <span class=\"hljs-operator\">=</span> Duration.ofHours(<span class=\"hljs-number\">23</span>);\n\n<span class=\"hljs-number\">11</span>: <span class=\"hljs-type\">var</span> <span class=\"hljs-variable\">r1</span> <span class=\"hljs-operator\">=</span> dateTime.plus(duration); <span class=\"hljs-comment\">// 2025&#x2013;01&#x2013;21T05:15</span>\n<span class=\"hljs-number\">12</span>: <span class=\"hljs-type\">var</span> <span class=\"hljs-variable\">r2</span> <span class=\"hljs-operator\">=</span> time.plus(duration); <span class=\"hljs-comment\">// 05:15</span>\n<span class=\"hljs-number\">13</span>: <span class=\"hljs-type\">var</span> <span class=\"hljs-variable\">r3</span> <span class=\"hljs-operator\">=</span> date.plus(duration);\n<span class=\"hljs-number\">14</span>:    <span class=\"hljs-comment\">// UnsupportedTemporalTypeException</span>\n</code></pre>","children":[],"payload":{"tag":"li","lines":"190,202"}},{"content":"This time we see that Java moves forward past the end of<br>\nthe day. Line 11 goes to the next day since we pass<br>\nmidnight. Line 12 doesn&#x2019;t have a day, so the time just<br>\nwraps around&#x2014;just like on a real clock.","children":[],"payload":{"tag":"li","lines":"202,206"}}],"payload":{"tag":"li","lines":"186,206"}}],"payload":{"tag":"li","lines":"174,206"}}],"payload":{"tag":"li","lines":"164,206"}}],"payload":{"tag":"li","lines":"159,206"}}],"payload":{"tag":"li","lines":"147,206"}},{"content":"\n<p data-lines=\"206,209\"><strong>Period vs. Duration</strong><br>\nRemember that <code>Period</code> and <code>Duration</code> are not equivalent. This<br>\nexample shows a <code>Period</code> and <code>Duration</code> of the same length:</p>\n<pre data-lines=\"209,216\"><code class=\"language-java\"><span class=\"hljs-type\">var</span> <span class=\"hljs-variable\">date</span> <span class=\"hljs-operator\">=</span> LocalDate.of(<span class=\"hljs-number\">2025</span>, <span class=\"hljs-number\">5</span>, <span class=\"hljs-number\">25</span>);\n<span class=\"hljs-type\">var</span> <span class=\"hljs-variable\">day</span> <span class=\"hljs-operator\">=</span> Period.ofDays(<span class=\"hljs-number\">1</span>);<span class=\"hljs-comment\">//P1D</span>\n<span class=\"hljs-type\">var</span> <span class=\"hljs-variable\">hours</span> <span class=\"hljs-operator\">=</span> Duration.ofDays(<span class=\"hljs-number\">1</span>);<span class=\"hljs-comment\">//PT24H</span>\n<span class=\"hljs-type\">var</span> <span class=\"hljs-variable\">r1</span> <span class=\"hljs-operator\">=</span> date.plus(day); <span class=\"hljs-comment\">// 2025&#x2013;05&#x2013;26</span>\n<span class=\"hljs-type\">var</span> <span class=\"hljs-variable\">r2</span> <span class=\"hljs-operator\">=</span> date.plus(hours); <span class=\"hljs-comment\">// Unsupported unit: Seconds</span>\n</code></pre>","children":[{"content":"Since we are working with a <code>LocalDate</code>, we are required to<br>\nuse <code>Period</code>. <code>Duration</code> has time units in it, even if we don&#x2019;t see<br>\nthem, and they are meant only for objects with time.","children":[{"content":"You can use <code>Period</code> with","children":[{"content":"<code>LocalDate</code><br>\n<code>LocalDateTime</code><br>\n<code>ZonedDateTime</code>","children":[],"payload":{"tag":"li","lines":"220,223"}}],"payload":{"tag":"li","lines":"219,223"}},{"content":"You can use <code>Duration</code> with","children":[{"content":"<code>LocalDateTime</code><br>\n<code>LocalTime</code><br>\n<code>ZonedDateTime</code>","children":[],"payload":{"tag":"li","lines":"224,227"}}],"payload":{"tag":"li","lines":"223,227"}}],"payload":{"tag":"li","lines":"216,227"}},{"content":"<strong>Working with Instants</strong><br>\nThe <code>Instant</code> class represents a specific moment in time in<br>\nthe GMT time zone. Suppose that you want to run a timer.<pre data-lines=\"230,237\"><code class=\"language-java\"><span class=\"hljs-type\">var</span> <span class=\"hljs-variable\">now</span> <span class=\"hljs-operator\">=</span> Instant.now();\n<span class=\"hljs-comment\">// Do something time consuming</span>\n<span class=\"hljs-type\">var</span> <span class=\"hljs-variable\">later</span> <span class=\"hljs-operator\">=</span> Instant.now();\n<span class=\"hljs-type\">var</span> <span class=\"hljs-variable\">duration</span> <span class=\"hljs-operator\">=</span> Duration.between(now, later);\n<span class=\"hljs-type\">var</span> <span class=\"hljs-variable\">m</span> <span class=\"hljs-operator\">=</span> duration.toMillis(); <span class=\"hljs-comment\">//Returns milliseconds</span>\n</code></pre>","children":[{"content":"In our case, the &#x201c;something time consuming&#x201d; was just over<br>\na second, and <code>m</code> contains <code>1025</code>.","children":[{"content":"If you have a <code>ZonedDateTime</code>, you can turn it into an <code>Instant</code>:<pre data-lines=\"240,250\"><code class=\"language-java\"><span class=\"hljs-type\">var</span> <span class=\"hljs-variable\">date</span> <span class=\"hljs-operator\">=</span> LocalDate.of(<span class=\"hljs-number\">2025</span>, <span class=\"hljs-number\">5</span>, <span class=\"hljs-number\">25</span>);\n<span class=\"hljs-type\">var</span> <span class=\"hljs-variable\">time</span> <span class=\"hljs-operator\">=</span> LocalTime.of(<span class=\"hljs-number\">11</span>, <span class=\"hljs-number\">55</span>, <span class=\"hljs-number\">00</span>);\n<span class=\"hljs-type\">var</span> <span class=\"hljs-variable\">zone</span> <span class=\"hljs-operator\">=</span> ZoneId.of(<span class=\"hljs-string\">&quot;US/Eastern&quot;</span>);\n<span class=\"hljs-type\">var</span> <span class=\"hljs-variable\">zDT</span> <span class=\"hljs-operator\">=</span> ZonedDateTime.of(date, time, zone);\n\n<span class=\"hljs-type\">var</span> <span class=\"hljs-variable\">instant</span> <span class=\"hljs-operator\">=</span> zDT.toInstant(); <span class=\"hljs-comment\">// 2025&#x2013;05&#x2013;25T15:55:00Z</span>\nprintln(zonedDateTime); <span class=\"hljs-comment\">// 2025&#x2013;05&#x2013;25T11:55&#x2013;04:00[US/Eastern]</span>\nprintln(instant);       <span class=\"hljs-comment\">// 2025&#x2013;05&#x2013;25T15:55:00Z</span>\n</code></pre>","children":[{"content":"The last two lines represent the same moment in time. The<br>\n<code>ZonedDateTime</code> includes a time zone. <strong>The <code>Instant</code> gets rid of<br>\nthe time zone and turns it into an <code>Instant</code> of time in GMT</strong>.","children":[{"content":"<strong>You cannot convert a <code>LocalDateTime</code> to an <code>Instant</code>.</strong> Remember<br>\nthat an <code>Instant</code> is a point in time. A <code>LocalDateTime</code> does not contain<br>\na time zone, and it is therefore not universally recognized around<br>\nthe world as the same moment in time.","children":[],"payload":{"tag":"li","lines":"253,257"}}],"payload":{"tag":"li","lines":"250,257"}}],"payload":{"tag":"li","lines":"239,257"}}],"payload":{"tag":"li","lines":"237,257"}}],"payload":{"tag":"li","lines":"227,257"}}],"payload":{"tag":"li","lines":"206,257"}}],"payload":{"tag":"h1","lines":"4,5"}},{"initialExpandLevel":1})</script>
</body>
</html>
