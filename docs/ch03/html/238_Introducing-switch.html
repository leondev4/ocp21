<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta http-equiv="X-UA-Compatible" content="ie=edge">
<title>Markmap</title>
<style>
* {
  margin: 0;
  padding: 0;
}
#mindmap {
  display: block;
  width: 100vw;
  height: 100vh;
}
</style>
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/markmap-toolbar@0.18.10/dist/style.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@highlightjs/cdn-assets@11.11.1/styles/default.min.css">
</head>
<body>
<svg id="mindmap"></svg>
<script src="https://cdn.jsdelivr.net/npm/d3@7.9.0/dist/d3.min.js"></script><script src="https://cdn.jsdelivr.net/npm/markmap-view@0.18.10/dist/browser/index.js"></script><script src="https://cdn.jsdelivr.net/npm/markmap-toolbar@0.18.10/dist/index.js"></script><script>(r => {
              setTimeout(r);
            })(function renderToolbar() {
  const {
    markmap,
    mm
  } = window;
  const {
    el
  } = markmap.Toolbar.create(mm);
  el.setAttribute('style', 'position:absolute;bottom:20px;right:20px');
  document.body.append(el);
})</script><script>((getMarkmap, getOptions, root2, jsonOptions) => {
              const markmap = getMarkmap();
              window.mm = markmap.Markmap.create(
                "svg#mindmap",
                (getOptions || markmap.deriveOptions)(jsonOptions),
                root2
              );
            })(() => window.markmap,null,{"content":"<strong>Introducing <code>switch</code></strong>","children":[{"content":"A <code>switch</code> is a complex decision-making structure in which a single<br>\nvalue is evaluated and flow is redirected to one or more branches.","children":[{"content":"There are two flavors: a <code>switch</code> statement and a <code>switch</code> expression.<br>\nThe primary difference between the two is that a <code>switch</code> expression<br>\nmust return a value, while a <code>switch</code> statement does not.","children":[{"content":"Example of <code>switch</code> statement:","children":[{"content":"\n<pre data-lines=\"12,31\"><code class=\"language-java\">String <span class=\"hljs-title function_\">getAnimalBetter</span><span class=\"hljs-params\">(<span class=\"hljs-type\">int</span> type)</span>{\n  String animal;\n    <span class=\"hljs-keyword\">switch</span>(type){\n      <span class=\"hljs-keyword\">case</span> <span class=\"hljs-number\">0</span>:\n        animal = <span class=\"hljs-string\">&quot;Lion&quot;</span>;\n        <span class=\"hljs-keyword\">break</span>;\n      <span class=\"hljs-keyword\">case</span> <span class=\"hljs-number\">1</span>:\n        animal = <span class=\"hljs-string\">&quot;Elephant&quot;</span>;\n        <span class=\"hljs-keyword\">break</span>;\n      <span class=\"hljs-keyword\">case</span> <span class=\"hljs-number\">2</span>,<span class=\"hljs-number\">3</span>: <span class=\"hljs-comment\">//separated by commas, not colons</span>\n        animal = <span class=\"hljs-string\">&quot;Alligator&quot;</span>;\n        <span class=\"hljs-keyword\">break</span>;\n      <span class=\"hljs-keyword\">default</span>:\n        animal = <span class=\"hljs-string\">&quot;Unknown&quot;</span>;\n    }\n    <span class=\"hljs-keyword\">return</span> animal;\n}\n</code></pre>","children":[{"content":"The <code>break</code> in <code>default</code> is not required since it is at the end.","children":[],"payload":{"tag":"li","lines":"31,32"}},{"content":"It&#x2019;s really long. We&#x2019;re assigning <code>animal</code> tree times, and what&#x2019;s with all<br>\nthe <code>break</code> statements?. Let&#x2019;s try using a <code>switch</code> expression instead.","children":[],"payload":{"tag":"li","lines":"32,34"}},{"content":"\n<pre data-lines=\"34,45\"><code class=\"language-java\">String <span class=\"hljs-title function_\">getAnimalBest</span><span class=\"hljs-params\">(<span class=\"hljs-type\">int</span> type)</span> {\n  <span class=\"hljs-keyword\">return</span> <span class=\"hljs-keyword\">switch</span>(type){\n    <span class=\"hljs-keyword\">case</span> <span class=\"hljs-number\">0</span>-&gt;<span class=\"hljs-string\">&quot;Lion&quot;</span>;\n    <span class=\"hljs-keyword\">case</span> <span class=\"hljs-number\">1</span>-&gt;<span class=\"hljs-string\">&quot;Elephant&quot;</span>;\n    <span class=\"hljs-keyword\">case</span> <span class=\"hljs-number\">2</span>, <span class=\"hljs-number\">3</span>-&gt;<span class=\"hljs-string\">&quot;Alligator&quot;</span>;\n    <span class=\"hljs-keyword\">case</span> <span class=\"hljs-number\">4</span>-&gt;<span class=\"hljs-string\">&quot;Crane&quot;</span>;\n    <span class=\"hljs-keyword\">default</span>-&gt;<span class=\"hljs-string\">&quot;Unknown&quot;</span>;\n  }; <span class=\"hljs-comment\">//note ; at the end</span>\n}\n</code></pre>","children":[{"content":"That is a lot shorter and easier to read! In Java, <code>switch</code> expressions<br>\nwere introduced more recently than <code>switch</code> statements, resulting in<br>\na greater emphasis on reducing boilerplate.","children":[],"payload":{"tag":"li","lines":"45,48"}}],"payload":{"tag":"li","lines":"34,48"}}],"payload":{"tag":"li","lines":"12,48"}}],"payload":{"tag":"li","lines":"11,48"}}],"payload":{"tag":"li","lines":"8,48"}}],"payload":{"tag":"li","lines":"6,48"}},{"content":"<strong>Defining a <code>switch</code></strong><br>\nBoth types begin with a <code>switch</code> keyword and a variable<br>\nin parentheses, followed by a pair of braces. <strong>In switch<br>\nexpression semicolon is required at the end.</strong>","children":[{"content":"\n<pre data-lines=\"52,61\"><code class=\"language-java\"><span class=\"hljs-type\">String</span> <span class=\"hljs-variable\">name</span> <span class=\"hljs-operator\">=</span> <span class=\"hljs-string\">&quot;123&quot;</span>;\n<span class=\"hljs-comment\">// Switch statement</span>\n<span class=\"hljs-keyword\">switch</span>(name){             \n  <span class=\"hljs-keyword\">case</span> <span class=\"hljs-string\">&quot;Sancha&quot;</span>: System.out.print(<span class=\"hljs-number\">1</span>);       <span class=\"hljs-keyword\">break</span>;\n  <span class=\"hljs-keyword\">case</span> <span class=\"hljs-string\">&quot;Jacob&quot;</span>,<span class=\"hljs-string\">&quot;Jake&quot;</span>: System.out.print(<span class=\"hljs-number\">2</span>); <span class=\"hljs-keyword\">break</span>;\n  <span class=\"hljs-keyword\">default</span>: System.out.print(<span class=\"hljs-number\">999</span>);           <span class=\"hljs-keyword\">break</span>;\n}\n</code></pre>","children":[{"content":"Both types of <code>switch</code> support zero or more <code>case</code> clauses. Each<br>\n<code>case</code> clause includes a set of matching values split up by commas<br>\n(<code>,</code>). It is then followed by a separator, which can be a colon (<code>:</code>) or<br>\nthe arrow operator (<code>-&gt;</code>). Finally, each clause then defines an<br>\nexpression, or code block with braces (<code>{}</code>), for what to execute when<br>\nthere&#x2019;s a match. Note that only <code>switch</code> statement has <code>break</code>.","children":[{"content":"<strong>Using the Arrow Operator with switch Statements</strong><br>\nWhile switch statements support both colons and arrow operators,<br>\nyou&#x2019;re likely to see them used with colons more often in practice.<br>\n<strong>If you do use the arrow operator, then you must use it for all<br>\nclauses</strong>.","children":[{"content":"The following <code>switch</code> statement does not compile:","children":[],"payload":{"tag":"li","lines":"72,73"}},{"content":"\n<pre data-lines=\"73,79\"><code class=\"language-java\"><span class=\"hljs-keyword\">switch</span> (type) {\n  <span class=\"hljs-keyword\">case</span> <span class=\"hljs-number\">0</span> : System.out.print(<span class=\"hljs-string\">&quot;Lion&quot;</span>);\n  <span class=\"hljs-keyword\">case</span> <span class=\"hljs-number\">1</span> -&gt; System.out.print(<span class=\"hljs-string\">&quot;Elephant&quot;</span>);\n}\n</code></pre>","children":[{"content":"This would compile if both clauses used the same<br>\nseparator.","children":[],"payload":{"tag":"li","lines":"79,81"}}],"payload":{"tag":"li","lines":"73,81"}}],"payload":{"tag":"li","lines":"67,81"}}],"payload":{"tag":"li","lines":"61,81"}}],"payload":{"tag":"li","lines":"52,81"}},{"content":"\n<pre data-lines=\"81,88\"><code class=\"language-java\"><span class=\"hljs-type\">var</span> <span class=\"hljs-variable\">n</span> <span class=\"hljs-operator\">=</span> <span class=\"hljs-keyword\">switch</span>(name){ <span class=\"hljs-comment\">// Switch expression</span>\n    <span class=\"hljs-keyword\">case</span> <span class=\"hljs-string\">&quot;Sancha&quot;</span>        -&gt; <span class=\"hljs-number\">1</span>;\n    <span class=\"hljs-keyword\">case</span> <span class=\"hljs-string\">&quot;Jacob&quot;</span>, <span class=\"hljs-string\">&quot;Jake&quot;</span> -&gt; <span class=\"hljs-number\">2</span>;\n    <span class=\"hljs-keyword\">default</span>              -&gt; <span class=\"hljs-number\">999</span>;\n  }; <span class=\"hljs-comment\">// watch &quot;;&quot; at the end</span>\n</code></pre>","children":[{"content":"Both <code>switch</code> types support an optional <code>default</code> clause.<br>\nWith <code>switch</code> expressions, a <code>default</code> clause is often<br>\nrequired, as the expression must return a value.","children":[{"content":"A <code>switch</code> statement is not required to contain any <code>case</code><br>\nclauses. This is perfectly valid:<pre data-lines=\"93,96\"><code class=\"language-java\"><span class=\"hljs-keyword\">switch</span> (month) {}\n</code></pre>","children":[],"payload":{"tag":"li","lines":"91,96"}}],"payload":{"tag":"li","lines":"88,96"}}],"payload":{"tag":"li","lines":"81,96"}}],"payload":{"tag":"li","lines":"48,96"}},{"content":"<a href=\"https://1drv.ms/i/c/c83cfca51d5c2032/EeGRBr8BQzFJigkw0wLA4HoBteZ5y-aGmY-kS4X4hRUjMQ?e=gNFavS\">Figure 3.4</a> shows the structure of a <code>switch</code> statement. While<br>\n<code>switch</code> statements can use the arrow operator, they are more<br>\ncommonly written with colons.","children":[{"content":"<a href=\"https://1drv.ms/i/c/c83cfca51d5c2032/EY_yBCylqEdBpmVoEeZwQusBaSQ1AE6J1wHU0E8NC6paYQ?e=yVyMd2\">Figure 3.5</a> shows the structure of a <code>switch</code> expression,<br>\nwhich returns a value that is assigned to a variable.","children":[{"content":"Unlike a <code>switch</code> statement, a <code>switch</code> expression often requires a semicolon (<code>;</code>)<br>\nafter it, such as when it is used with the assignment operator (<code>=</code>) or a <code>return</code><br>\nstatement.","children":[{"content":"A <code>switch</code> expression also requires a semicolon (<code>;</code>) after each<br>\n<code>case</code> expression that doesn&#x2019;t use a block. For  example, how<br>\nmany semicolons are missing in the following?","children":[{"content":"\n<pre data-lines=\"107,113\"><code class=\"language-java\"><span class=\"hljs-type\">var</span> <span class=\"hljs-variable\">result</span> <span class=\"hljs-operator\">=</span> <span class=\"hljs-keyword\">switch</span> (bear) {\n  <span class=\"hljs-keyword\">case</span> <span class=\"hljs-number\">30</span> -&gt; <span class=\"hljs-string\">&quot;Grizzly&quot;</span>\n  <span class=\"hljs-keyword\">default</span> -&gt; <span class=\"hljs-string\">&quot;Panda&quot;</span>\n}\n</code></pre>","children":[{"content":"The answer is three. Each <code>case</code> or <code>default</code>  expression<br>\nrequires a semicolon as well as the assignment itself.<br>\nThe following fixes the code:","children":[{"content":"\n<pre data-lines=\"116,122\"><code class=\"language-java\"><span class=\"hljs-type\">var</span> <span class=\"hljs-variable\">result</span> <span class=\"hljs-operator\">=</span> <span class=\"hljs-keyword\">switch</span> (bear) {\n  <span class=\"hljs-keyword\">case</span> <span class=\"hljs-number\">30</span> -&gt; <span class=\"hljs-string\">&quot;Grizzly&quot;</span>;\n  <span class=\"hljs-keyword\">default</span> -&gt; <span class=\"hljs-string\">&quot;Panda&quot;</span>;\n};\n</code></pre>","children":[],"payload":{"tag":"li","lines":"116,122"}}],"payload":{"tag":"li","lines":"113,122"}}],"payload":{"tag":"li","lines":"107,122"}}],"payload":{"tag":"li","lines":"104,122"}}],"payload":{"tag":"li","lines":"101,122"}}],"payload":{"tag":"li","lines":"99,122"}}],"payload":{"tag":"li","lines":"96,122"}},{"content":"See if you can figure out which of these<br>\ncompiles:","children":[{"content":"\n<pre data-lines=\"124,143\"><code class=\"language-java\"><span class=\"hljs-type\">int</span> <span class=\"hljs-variable\">food</span> <span class=\"hljs-operator\">=</span> <span class=\"hljs-number\">5</span>, month = <span class=\"hljs-number\">4</span>, weather = <span class=\"hljs-number\">2</span>, \n    day = <span class=\"hljs-number\">0</span>, time = <span class=\"hljs-number\">4</span>;\n\n<span class=\"hljs-type\">String</span> <span class=\"hljs-variable\">meal</span> <span class=\"hljs-operator\">=</span> <span class=\"hljs-keyword\">switch</span> food { <span class=\"hljs-comment\">// #1</span>\n  <span class=\"hljs-keyword\">case</span> <span class=\"hljs-number\">1</span> -&gt; <span class=\"hljs-string\">&quot;Dessert&quot;</span>\n  <span class=\"hljs-keyword\">default</span> -&gt; <span class=\"hljs-string\">&quot;Porridge&quot;</span>\n};\n\n<span class=\"hljs-keyword\">switch</span> (month) <span class=\"hljs-comment\">// #2</span>\n  <span class=\"hljs-keyword\">case</span> <span class=\"hljs-number\">4</span>: System.out.print(<span class=\"hljs-string\">&quot;January&quot;</span>);\n\n<span class=\"hljs-keyword\">switch</span> (weather) { <span class=\"hljs-comment\">// #3  </span>\n  <span class=\"hljs-keyword\">case</span> <span class=\"hljs-number\">2</span>: System.out.print(<span class=\"hljs-string\">&quot;Rainy&quot;</span>);\n  <span class=\"hljs-keyword\">case</span> <span class=\"hljs-number\">5</span>: {\n    System.out.print(<span class=\"hljs-string\">&quot;Sunny&quot;</span>);\n  }\n}\n</code></pre>","children":[{"content":"The <strong>first statement</strong> does not compile because the <code>switch</code> expression<br>\nis missing parentheses around the <code>switch</code> variable, as well as semicolons<br>\nafter the <code>case</code> and <code>default</code> clauses. The <strong>second statement</strong> does not<br>\ncompile because it is missing braces around the <code>switch</code> body. The <strong>third<br>\nstatement</strong> does compile. Notice that a <code>case</code> clause can use an expression<br>\nor a code block with braces.","children":[{"content":"\n<pre data-lines=\"149,161\"><code class=\"language-java\"><span class=\"hljs-keyword\">switch</span> (day) { <span class=\"hljs-comment\">// #4</span>\n  <span class=\"hljs-keyword\">case</span> <span class=\"hljs-number\">1</span>: <span class=\"hljs-number\">13</span>: System.out.print(<span class=\"hljs-string\">&quot;January&quot;</span>);\n  <span class=\"hljs-keyword\">default</span>\n  System.out.print(<span class=\"hljs-string\">&quot;July&quot;</span>);\n}\n\n<span class=\"hljs-type\">String</span> <span class=\"hljs-variable\">description</span> <span class=\"hljs-operator\">=</span> <span class=\"hljs-keyword\">switch</span> (time){ <span class=\"hljs-comment\">// #5</span>\n  <span class=\"hljs-keyword\">case</span> <span class=\"hljs-number\">10</span> -&gt; <span class=\"hljs-string\">&quot;Morning&quot;</span>;\n  <span class=\"hljs-keyword\">default</span> -&gt; <span class=\"hljs-string\">&quot;Late&quot;</span>;\n}\n</code></pre>","children":[{"content":"The <strong>fourth statement</strong> does not compile for two reasons.<br>\nThe <code>case</code> clause should use a comma (<code>,</code>) to separate two<br>\nvalues, not a colon (<code>:</code>). It&#x2019;s also missing a colon after the<br>\n<code>default</code> clause. The <strong>last statement</strong> does not compile because<br>\nthe assignment operator (<code>=</code>) is missing a semicolon  (<code>;</code>) at<br>\nthe end.","children":[],"payload":{"tag":"li","lines":"161,167"}}],"payload":{"tag":"li","lines":"149,167"}}],"payload":{"tag":"li","lines":"143,167"}}],"payload":{"tag":"li","lines":"124,167"}}],"payload":{"tag":"li","lines":"122,167"}}],"payload":{"tag":"h1","lines":"5,6"}},{"initialExpandLevel":1})</script>
</body>
</html>
