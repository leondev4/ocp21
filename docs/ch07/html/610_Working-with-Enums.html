<!doctype html>
<html>
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<meta http-equiv="X-UA-Compatible" content="ie=edge" />
<title>Markmap</title>
<style>
* {
  margin: 0;
  padding: 0;
}
html {
  font-family: ui-sans-serif, system-ui, sans-serif, 'Apple Color Emoji',
    'Segoe UI Emoji', 'Segoe UI Symbol', 'Noto Color Emoji';
}
#mindmap {
  display: block;
  width: 100vw;
  height: 100vh;
}
.markmap-dark {
  background: #27272a;
  color: white;
}
</style>
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/markmap-toolbar@0.18.12/dist/style.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@highlightjs/cdn-assets@11.11.1/styles/default.min.css">
</head>
<body>
<svg id="mindmap"></svg>
<script src="https://cdn.jsdelivr.net/npm/d3@7.9.0/dist/d3.min.js"></script><script src="https://cdn.jsdelivr.net/npm/markmap-view@0.18.12/dist/browser/index.js"></script><script src="https://cdn.jsdelivr.net/npm/markmap-toolbar@0.18.12/dist/index.js"></script><script>(r => {
              setTimeout(r);
            })(function renderToolbar() {
  const {
    markmap,
    mm
  } = window;
  const {
    el
  } = markmap.Toolbar.create(mm);
  el.setAttribute('style', 'position:absolute;bottom:20px;right:20px');
  document.body.append(el);
})</script><script>((getMarkmap, getOptions, root2, jsonOptions) => {
              const markmap = getMarkmap();
              window.mm = markmap.Markmap.create(
                "svg#mindmap",
                (getOptions || markmap.deriveOptions)(jsonOptions),
                root2
              );
              if (window.matchMedia("(prefers-color-scheme: dark)").matches) {
                document.documentElement.classList.add("markmap-dark");
              }
            })(() => window.markmap,null,{"content":"<strong>Working with Enums</strong>","children":[{"content":"An enumeration, or enum for short, is like a fixed set of constants.<br>\nUsing an enum is much better than using a bunch of constants because it provides<br>\ntype-safe checking. With numeric or <code>String</code> constants, you can pass an invalid value<br>\nand not find out until runtime. With enums, it is impossible to create an invalid enum<br>\nvalue without introducing a compiler error.","children":[{"content":"<strong>Creating Simple Enums</strong><br>\nTo create an enum, declare a type with the <code>enum</code> keyword, a name, and a list of<br>\nvalues, as shown in <a href=\"https://1drv.ms/i/c/c83cfca51d5c2032/EVVmO8a1KYtKrTXzyyudxnUBd7R56xWKV8vkf4My2z5asQ?e=hRBfm4\">Figure 7.4</a>.<br>\nWe refer to an enum that only contains a list of values as a <em>simple enum</em>.<strong style=\"color:green\"> When<br>\nworking with simple enums, the semicolon at the end of the list is optional</strong>.","children":[{"content":"Using an enum is easy.<pre data-lines=\"17,22\"><code class=\"language-java\"><span class=\"hljs-type\">var</span> <span class=\"hljs-variable\">s</span> <span class=\"hljs-operator\">=</span> Season.SUMMER;\nSystem.out.println(Season.SUMMER);      <span class=\"hljs-comment\">//SUMMER</span>\nSystem.out.println(s == Season.SUMMER); <span class=\"hljs-comment\">//true</span>\n</code></pre>\nAs you can see, enums print the name of the enum when <code>toString()</code> is called. They can<br>\nbe compared using <code>==</code> because they are like <code>static final</code> constants. You can use<br>\n<code>equals()</code> or <code>==</code> to compare enums, since <strong>each enum value is initialized only once<br>\nin the Java Virtual Machine (JVM).</strong>","children":[{"content":"One thing that you can&#x2019;t do is extend an enum.<pre data-lines=\"27,30\"><code class=\"language-java\"><span class=\"hljs-keyword\">public</span> <span class=\"hljs-keyword\">enum</span> <span class=\"hljs-title class_\">ExtendedSeason</span> <span class=\"hljs-keyword\">extends</span> <span class=\"hljs-title class_\">Season</span> {} <span class=\"hljs-comment\">// DOES NOT COMPILE</span>\n</code></pre>\nAn <code>enum</code> is implicitly <code>final</code> and its constructor is implicitly <code>private</code>. You cannot<br>\nmark an enum <code>final</code>. On the other hand, an enum can implement an interface,<br>\nAn <code>enum</code> implicitly <code>extends java.lang.Enum</code> class.","children":[{"content":"<strong>Calling Common Enum Methods</strong><br>\nAn enum provides a <code>values()</code> method to get an array of all of the values. You can use this like any<br>\nnormal array, including in a for-each loop. In addition, each enum value includes two methods,<br>\n<code>name()</code> and <code>ordinal()</code>. The following shows all three methods:<pre data-lines=\"37,42\"><code class=\"language-java\"><span class=\"hljs-keyword\">for</span>(<span class=\"hljs-keyword\">var</span> season: Season.values()) {\n  System.out.println(season.name() + <span class=\"hljs-string\">&quot; &quot;</span> + season.ordinal());\n}\n</code></pre>","children":[{"content":"The <code>ordinal()</code> method returns an <code>int</code> value, which denotes<br>\nthe order in which the value is declared in the enum:<pre data-lines=\"44,50\"><code class=\"language-java\">WINTER 0\nSPRING 1\nSUMMER 2\nFALL 3\n</code></pre>","children":[{"content":"You also can&#x2019;t compare an <code>int</code> and an enum value directly anyway since an enum value is an object.<pre data-lines=\"51,54\"><code class=\"language-java\"><span class=\"hljs-keyword\">if</span> (Season.SUMMER == <span class=\"hljs-number\">2</span>) {} <span class=\"hljs-comment\">// DOES NOT COMPILE</span>\n</code></pre>\nAn enum provides a useful <code>valueOf()</code> method for converting from a <code>String</code> to an enum value. This<br>\nis helpful when working with older code or parsing user input.<strong style=\"color:red\"> The <code>String</code> passed in must match<br>\nthe  enum value exactly</strong>, though.<pre data-lines=\"57,61\"><code class=\"language-java\"><span class=\"hljs-type\">Season</span> <span class=\"hljs-variable\">s</span> <span class=\"hljs-operator\">=</span> Season.valueOf(<span class=\"hljs-string\">&quot;SUMMER&quot;</span>); <span class=\"hljs-comment\">// SUMMER</span>\n<span class=\"hljs-type\">Season</span> <span class=\"hljs-variable\">t</span> <span class=\"hljs-operator\">=</span> Season.valueOf(<span class=\"hljs-string\">&quot;summer&quot;</span>); <span class=\"hljs-comment\">// IllegalArgumentException</span>\n</code></pre>","children":[{"content":"The first statement works and assigns the proper enum value to <code>s</code>. Note that this line is not creating<br>\nan enum value, at least not directly. Each enum value is created once when the enum is first loaded.<br>\nOnce the enum has been loaded, it retrieves the single enum value with the matching name.<br>\nThe second statement encounters a problem. There is no enum value with the lowercase name<br>\n<code>summer</code>. Java  throws an <code>IllegalArgumentException</code>.","children":[],"payload":{"tag":"li","lines":"61,66"}}],"payload":{"tag":"li","lines":"50,66"}}],"payload":{"tag":"li","lines":"42,66"}}],"payload":{"tag":"li","lines":"33,66"}}],"payload":{"tag":"li","lines":"26,66"}}],"payload":{"tag":"li","lines":"16,66"}}],"payload":{"tag":"li","lines":"11,66"}}],"payload":{"tag":"li","lines":"6,66"}},{"content":"<strong>Using Enums in switch Statements</strong><br>\nEnums can be used in <code>switch</code> statements and expressions. Enums have the unique<br>\nproperty that they do not require a default branch for an exhaustive <code>switch</code> if all enum<br>\nvalues are handled.<pre data-lines=\"70,79\"><code class=\"language-java\"><span class=\"hljs-keyword\">public</span> String <span class=\"hljs-title function_\">getWeather</span><span class=\"hljs-params\">(Season value)</span> {\n  <span class=\"hljs-keyword\">return</span> <span class=\"hljs-keyword\">switch</span> (value) {\n    <span class=\"hljs-keyword\">case</span> SUMMER -&gt; <span class=\"hljs-string\">&quot;Too hot&quot;</span>;\n    <span class=\"hljs-keyword\">case</span> Season.WINTER -&gt; <span class=\"hljs-string\">&quot;Too cold&quot;</span>;\n    <span class=\"hljs-keyword\">case</span> SPRING, FALL -&gt; <span class=\"hljs-string\">&quot;Just right&quot;</span>;\n  };\n}\n</code></pre>","children":[{"content":"A <code>default</code> branch can also be added but is not required, so long as all values are handled.<br>\nAlso notice that within each case clause, the name of the enum, <code>Season</code>, is now optional.<br>\nIn previous versions of Java, the name of the enum was disallowed.","children":[{"content":"While each enum value has an accompanying ordinal value, it cannot be used<br>\ndirectly  within a <code>case</code> clause. For example, this does not compile:<pre data-lines=\"84,92\"><code class=\"language-java\"><span class=\"hljs-keyword\">public</span> String <span class=\"hljs-title function_\">getWeather</span><span class=\"hljs-params\">(Season value)</span> {\n  <span class=\"hljs-keyword\">return</span> <span class=\"hljs-keyword\">switch</span> (value) {\n    <span class=\"hljs-keyword\">case</span> SUMMER -&gt; <span class=\"hljs-string\">&quot;Too hot&quot;</span>;\n    <span class=\"hljs-keyword\">case</span> <span class=\"hljs-number\">0</span> -&gt; <span class=\"hljs-string\">&quot;Too cold&quot;</span>; <span class=\"hljs-comment\">// DOES NOT COMPILE</span>\n    <span class=\"hljs-keyword\">default</span> -&gt; <span class=\"hljs-string\">&quot;Just right&quot;</span>;\n  };\n}\n</code></pre>","children":[],"payload":{"tag":"li","lines":"82,92"}}],"payload":{"tag":"li","lines":"79,92"}}],"payload":{"tag":"li","lines":"66,92"}},{"content":"<strong>Working with Complex Enums</strong><br>\nWhile a simple enum is composed of just a list of values, we can define a complex<br>\nenum with additional elements. Let&#x2019;s say our zoo wants to keep track of traffic<br>\npatterns to determine which seasons get the most visitors.","children":[{"content":"\n<pre data-lines=\"96,111\"><code class=\"language-java\"><span class=\"hljs-number\">21</span>: <span class=\"hljs-keyword\">interface</span> <span class=\"hljs-title class_\">Visitors</span> { <span class=\"hljs-keyword\">void</span> <span class=\"hljs-title function_\">printVisitors</span><span class=\"hljs-params\">()</span>; }\n<span class=\"hljs-number\">22</span>: <span class=\"hljs-keyword\">enum</span> <span class=\"hljs-title class_\">SeasonWithVisitors</span> <span class=\"hljs-keyword\">implements</span> <span class=\"hljs-title class_\">Visitors</span> {\n<span class=\"hljs-number\">23</span>:   WINTER(<span class=\"hljs-string\">&quot;Low&quot;</span>), SPRING(<span class=\"hljs-string\">&quot;Medium&quot;</span>), SUMMER(<span class=\"hljs-string\">&quot;High&quot;</span>), FALL(<span class=\"hljs-string\">&quot;Medium&quot;</span>);\n<span class=\"hljs-number\">24</span>:\n<span class=\"hljs-number\">25</span>:   <span class=\"hljs-keyword\">private</span> <span class=\"hljs-keyword\">final</span> String visitors;\n<span class=\"hljs-number\">26</span>:   <span class=\"hljs-keyword\">public</span> <span class=\"hljs-keyword\">static</span> <span class=\"hljs-keyword\">final</span> <span class=\"hljs-type\">String</span> <span class=\"hljs-variable\">DESCRIPTION</span> <span class=\"hljs-operator\">=</span> <span class=\"hljs-string\">&quot;Weather enum&quot;</span>;\n<span class=\"hljs-number\">27</span>:   <span class=\"hljs-keyword\">private</span> <span class=\"hljs-title function_\">SeasonWithVisitors</span><span class=\"hljs-params\">(String visitors)</span> { <span class=\"hljs-comment\">//implicit private</span>\n<span class=\"hljs-number\">28</span>:     System.out.print(<span class=\"hljs-string\">&quot;constructing,&quot;</span>);\n<span class=\"hljs-number\">29</span>:     <span class=\"hljs-built_in\">this</span>.visitors = visitors;\n<span class=\"hljs-number\">30</span>:   }\n<span class=\"hljs-number\">31</span>: <span class=\"hljs-meta\">@Override</span> <span class=\"hljs-keyword\">public</span> <span class=\"hljs-keyword\">void</span> <span class=\"hljs-title function_\">printVisitors</span><span class=\"hljs-params\">()</span> {\n<span class=\"hljs-number\">32</span>:     System.out.println(visitors);\n<span class=\"hljs-number\">33</span>: } }\n</code></pre>","children":[{"content":"<code>WINTER</code>, <code>SPRING</code>, <code>SUMMER</code> and <code>FALL</code> are implicitly <code>public</code>, <code>static</code>, and <code>final</code> of type <code>Vistors</code><br>\nIf you don&apos;t redefine the method <code>toString()</code> in a enum, the default implementation is:<pre data-lines=\"113,116\"><code class=\"language-java\"><span class=\"hljs-keyword\">public</span> String <span class=\"hljs-title function_\">toString</span><span class=\"hljs-params\">()</span>{  <span class=\"hljs-keyword\">return</span> name(); }\n</code></pre>","children":[],"payload":{"tag":"li","lines":"111,116"}},{"content":"There are a few things to notice here. On line 23, the list of enum values ends with a semicolon (<code>;</code>).<br>\nWhile this is optional for a simple enum, it is required if there is anything in the enum besides the<br>\nvalues. Lines 25&#x2013;33 are regular Java code. We have instance and <code>static</code> variables (lines 25&#x2013;26),<br>\na constructor (lines 27&#x2013;30, note the modifier <code>private</code>), and a method (lines 31&#x2013;33).<br>\nFor complex enums, the list of values always comes first.","children":[{"content":"<strong>Creating Enum Variables</strong><br>\nAn enum declaration can include both <code>static</code> and instance variables. In our <code>SeasonWithVisitors</code><br>\nimplementation (lines 25&#x2013;26), we mark the variables <code>final</code>, so that our enum properties cannot be<br>\nmodified. Although it is possible to create an enum with instance variables that can be modified,<br>\nit is a very poor practice to do.","children":[{"content":"<strong>Declaring Enum Constructors</strong><br>\n<strong style=\"color:green\">All enum constructors are implicitly <code>private</code>, with the modifier being optional.</strong> This is<br>\nreasonable since you can&#x2019;t extend an enum and the constructors can be called only within<br>\nthe enum itself. In fact, an enum constructor will not compile if it contains a <code>protected</code> or<br>\n<code>public</code> modifier.<pre data-lines=\"131,134\"><code class=\"language-java\"><span class=\"hljs-number\">27</span>: <span class=\"hljs-keyword\">public</span> <span class=\"hljs-title function_\">SeasonWithVisitors</span><span class=\"hljs-params\">(String visitors)</span> { <span class=\"hljs-comment\">// DOES NOT COMPILE</span>\n</code></pre>","children":[{"content":"What about all of the parentheses on line 23 of our <code>SeasonWithVisitors</code> enum? Those are<br>\nconstructor  calls, but without the <code>new</code> keyword normally used for objects. The first time we ask<br>\nfor any of the enum  values, Java constructs all of the enum values. After that, Java just  returns<br>\nthe already constructed  enum values.","children":[{"content":"Given this explanation, you can see why this code snippet calls each constructor only once:<pre data-lines=\"139,146\"><code class=\"language-java\">System.out.print(<span class=\"hljs-string\">&quot;begin,&quot;</span>);\n<span class=\"hljs-type\">var</span> <span class=\"hljs-variable\">firstCall</span> <span class=\"hljs-operator\">=</span> SeasonWithVisitors.SUMMER; <span class=\"hljs-comment\">// Prints &quot;constructing,&quot; 4 times</span>\nSystem.out.print(<span class=\"hljs-string\">&quot;middle,&quot;</span>);\n<span class=\"hljs-type\">var</span> <span class=\"hljs-variable\">secondCall</span> <span class=\"hljs-operator\">=</span> SeasonWithVisitors.SUMMER; <span class=\"hljs-comment\">// Doesn&apos;t print anything</span>\nSystem.out.print(<span class=\"hljs-string\">&quot;end&quot;</span>);\n</code></pre>\nThis program prints the following:<pre data-lines=\"147,150\"><code class=\"language-java\">begin,constructing,constructing,constructing,constructing,middle,end\n</code></pre>\nIf the <code>SeasonWithVisitors</code> enum was used earlier in the program (and therefore initialized<br>\nsooner), then the line that declares the <code>firstCall</code> variable would not print anything","children":[],"payload":{"tag":"li","lines":"138,152"}}],"payload":{"tag":"li","lines":"134,152"}}],"payload":{"tag":"li","lines":"126,152"}}],"payload":{"tag":"li","lines":"121,152"}}],"payload":{"tag":"li","lines":"116,152"}}],"payload":{"tag":"li","lines":"96,152"}}],"payload":{"tag":"li","lines":"92,152"}},{"content":"<strong>Writing Enum Methods</strong><br>\nLike a class, an enum can contain <code>static</code> and instance methods. An enum can even<br>\nimplement an interface as we saw on lines 21&#x2013;22 of our <code>SeasonWithVisitors</code> enum.<br>\nWe include the <code>@Override</code> annotation on line 31 to make it clear it is an inherited<br>\nmethod. How do we call an enum instance method? That&#x2019;s easy, too: we just use<br>\nthe enum value followed by the method call.<pre data-lines=\"158,161\"><code class=\"language-java\">  SeasonWithVisitors.SUMMER.printVisitors();\n</code></pre>","children":[{"content":"Sometimes you want to define different methods for each enum. For example, our zoo has<br>\ndifferent seasonal hours. It is cold and gets dark early in the winter. We can keep track of<br>\nthe hours through instance variables, or we can let each enum value manage hours itself.<br>\nThe syntax is similar to compact constructors in records.","children":[{"content":"\n<pre data-lines=\"165,182\"><code class=\"language-java\"><span class=\"hljs-keyword\">public</span> <span class=\"hljs-keyword\">enum</span> <span class=\"hljs-title class_\">SeasonWithTimes</span> {\n  WINTER {\n    <span class=\"hljs-keyword\">public</span> String <span class=\"hljs-title function_\">getHours</span><span class=\"hljs-params\">()</span> { <span class=\"hljs-keyword\">return</span> <span class=\"hljs-string\">&quot;10am-3pm&quot;</span>; }\n  },\n  SPRING {\n    <span class=\"hljs-keyword\">public</span> String <span class=\"hljs-title function_\">getHours</span><span class=\"hljs-params\">()</span> { <span class=\"hljs-keyword\">return</span> <span class=\"hljs-string\">&quot;9am-5pm&quot;</span>; }\n  },\n  SUMMER {\n    <span class=\"hljs-keyword\">public</span> String <span class=\"hljs-title function_\">getHours</span><span class=\"hljs-params\">()</span> { <span class=\"hljs-keyword\">return</span> <span class=\"hljs-string\">&quot;9am-7pm&quot;</span>; }\n  },\n  FALL {\n    <span class=\"hljs-keyword\">public</span> String <span class=\"hljs-title function_\">getHours</span><span class=\"hljs-params\">()</span> { <span class=\"hljs-keyword\">return</span> <span class=\"hljs-string\">&quot;9am-5pm&quot;</span>; }\n  };\n  <span class=\"hljs-keyword\">public</span> <span class=\"hljs-keyword\">abstract</span> String <span class=\"hljs-title function_\">getHours</span><span class=\"hljs-params\">()</span>;\n}\n</code></pre>","children":[{"content":"What&#x2019;s going on here? It looks like we created an <code>abstract</code> class and a bunch of tiny subclasses.<br>\nIn a way, we are. The enum itself has an <code>abstract</code> method. This means that each and every enum<br>\nvalue is required to implement this method. If we forget to implement the method for one of the<br>\nvalues, we get a compiler error:<pre data-lines=\"186,189\"><code class=\"language-java\">The <span class=\"hljs-keyword\">enum</span> <span class=\"hljs-title class_\">constant</span> WINTER must implement the <span class=\"hljs-keyword\">abstract</span> method <span class=\"hljs-title function_\">getHours</span><span class=\"hljs-params\">()</span>\n</code></pre>","children":[{"content":"But what if we don&#x2019;t want each and every enum value to have a method? No problem. We can create an<br>\nimplementation for all values and override it only for the special cases.<pre data-lines=\"191,203\"><code class=\"language-java\"><span class=\"hljs-keyword\">public</span> <span class=\"hljs-keyword\">enum</span> <span class=\"hljs-title class_\">SeasonWithTimes</span> {\n  WINTER {\n    <span class=\"hljs-keyword\">public</span> String <span class=\"hljs-title function_\">getHours</span><span class=\"hljs-params\">()</span> { <span class=\"hljs-keyword\">return</span> <span class=\"hljs-string\">&quot;10am-3pm&quot;</span>; }\n  },\n  SUMMER {\n    <span class=\"hljs-keyword\">public</span> String <span class=\"hljs-title function_\">getHours</span><span class=\"hljs-params\">()</span> { <span class=\"hljs-keyword\">return</span> <span class=\"hljs-string\">&quot;9am-7pm&quot;</span>; }\n  },\n  SPRING, FALL;\n    <span class=\"hljs-keyword\">public</span> String <span class=\"hljs-title function_\">getHours</span><span class=\"hljs-params\">()</span> { <span class=\"hljs-keyword\">return</span> <span class=\"hljs-string\">&quot;9am-5pm&quot;</span>; }\n}\n</code></pre>\nThis looks better. We only code the special cases and let the others use the enum-provided implementation.","children":[],"payload":{"tag":"li","lines":"189,204"}}],"payload":{"tag":"li","lines":"182,204"}}],"payload":{"tag":"li","lines":"165,204"}}],"payload":{"tag":"li","lines":"161,204"}}],"payload":{"tag":"li","lines":"152,204"}}],"payload":{"tag":"h1","lines":"5,6"}},{"initialExpandLevel":1})</script>
</body>
</html>
