<!doctype html>
<html>
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<meta http-equiv="X-UA-Compatible" content="ie=edge" />
<title>Markmap</title>
<style>
* {
  margin: 0;
  padding: 0;
}
html {
  font-family: ui-sans-serif, system-ui, sans-serif, 'Apple Color Emoji',
    'Segoe UI Emoji', 'Segoe UI Symbol', 'Noto Color Emoji';
}
#mindmap {
  display: block;
  width: 100vw;
  height: 100vh;
}
.markmap-dark {
  background: #27272a;
  color: white;
}
</style>
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/markmap-toolbar@0.18.12/dist/style.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@highlightjs/cdn-assets@11.11.1/styles/default.min.css">
</head>
<body>
<svg id="mindmap"></svg>
<script src="https://cdn.jsdelivr.net/npm/d3@7.9.0/dist/d3.min.js"></script><script src="https://cdn.jsdelivr.net/npm/markmap-view@0.18.12/dist/browser/index.js"></script><script src="https://cdn.jsdelivr.net/npm/markmap-toolbar@0.18.12/dist/index.js"></script><script>(r => {
              setTimeout(r);
            })(function renderToolbar() {
  const {
    markmap,
    mm
  } = window;
  const {
    el
  } = markmap.Toolbar.create(mm);
  el.setAttribute('style', 'position:absolute;bottom:20px;right:20px');
  document.body.append(el);
})</script><script>((getMarkmap, getOptions, root2, jsonOptions) => {
              const markmap = getMarkmap();
              window.mm = markmap.Markmap.create(
                "svg#mindmap",
                (getOptions || markmap.deriveOptions)(jsonOptions),
                root2
              );
              if (window.matchMedia("(prefers-color-scheme: dark)").matches) {
                document.documentElement.classList.add("markmap-dark");
              }
            })(() => window.markmap,null,{"content":"<strong>Creating Nested Classes</strong>","children":[{"content":"A nested class is a class that is defined within another class. A nested class can come<br>\nin one of four flavors, with all supporting instance and static variables as members.<br>\n<strong>Inner class:</strong> A non-<code>static</code> type defined at the member level of a class<br>\n<strong>Static nested class:</strong> A <code>static</code> type defined at the member level of a class<br>\n<strong>Local class:</strong> A class defined within a method body<br>\n<strong>Anonymous class:</strong> A special case of a local class that does not have a name","children":[{"content":"There are many benefits of using nested classes. They can define helper classes and restrict them to the<br>\ncontaining class, thereby improving encapsulation. They can make it easy to create a class that will be<br>\nused in only one place. They can even make the code cleaner and easier to read.","children":[{"content":"<strong>Declaring an Inner Class</strong><br>\nAn inner class, also called a member inner class, is a non-<code>static</code> type defined at the member level of a class<br>\n(the same level as the methods, instance variables, and constructors). Because they are not top-level types,<br>\nthey can use any of the four access levels, not just <code>public</code> and package access.","children":[{"content":"Inner classes have the following properties:<br>\n* Can be declared <code>public</code>, <code>protected</code>, package, or <code>private</code><br>\n* Can extend a class and implement interfaces<br>\n* Can be marked <code>abstract</code> or <code>final</code><br>\n* Can access members of the outer class, including <code>private</code> members<br>\nThe last property is pretty cool. It means that the inner class can access<br>\nvariables in the outer class without doing anything special.","children":[{"content":"Ready for a complicated way to print <code>Hi</code> three times?<pre data-lines=\"22,45\"><code class=\"language-java\"><span class=\"hljs-number\">1</span>: <span class=\"hljs-keyword\">public</span> <span class=\"hljs-keyword\">class</span> <span class=\"hljs-title class_\">Home</span> {\n<span class=\"hljs-number\">2</span>:   <span class=\"hljs-keyword\">private</span> <span class=\"hljs-type\">String</span> <span class=\"hljs-variable\">greeting</span> <span class=\"hljs-operator\">=</span> <span class=\"hljs-string\">&quot;Hi&quot;</span>; <span class=\"hljs-comment\">// Outer class instance variable</span>\n<span class=\"hljs-number\">3</span>:\n<span class=\"hljs-number\">4</span>:   <span class=\"hljs-keyword\">protected</span> <span class=\"hljs-keyword\">class</span> <span class=\"hljs-title class_\">Room</span> { <span class=\"hljs-comment\">// Inner class declaration</span>\n<span class=\"hljs-number\">5</span>:     <span class=\"hljs-keyword\">public</span> <span class=\"hljs-type\">int</span> <span class=\"hljs-variable\">repeat</span> <span class=\"hljs-operator\">=</span> <span class=\"hljs-number\">3</span>;\n<span class=\"hljs-number\">6</span>:     <span class=\"hljs-keyword\">public</span> <span class=\"hljs-keyword\">void</span> <span class=\"hljs-title function_\">enter</span><span class=\"hljs-params\">()</span> {\n<span class=\"hljs-number\">7</span>:       <span class=\"hljs-keyword\">for</span> (<span class=\"hljs-type\">int</span> <span class=\"hljs-variable\">i</span> <span class=\"hljs-operator\">=</span> <span class=\"hljs-number\">0</span>; i &lt; repeat; i++) greet(greeting);\n<span class=\"hljs-number\">8</span>:     }\n<span class=\"hljs-number\">9</span>:    <span class=\"hljs-keyword\">private</span> <span class=\"hljs-keyword\">static</span> <span class=\"hljs-keyword\">void</span> <span class=\"hljs-title function_\">greet</span><span class=\"hljs-params\">(String message)</span> {\n<span class=\"hljs-number\">10</span>:     System.out.println(message);\n<span class=\"hljs-number\">11</span>:   }\n<span class=\"hljs-number\">12</span>: }\n<span class=\"hljs-number\">13</span>:\n<span class=\"hljs-number\">14</span>:   <span class=\"hljs-keyword\">public</span> <span class=\"hljs-keyword\">void</span> <span class=\"hljs-title function_\">enterRoom</span><span class=\"hljs-params\">()</span> { <span class=\"hljs-comment\">// Instance method in outer class</span>\n<span class=\"hljs-number\">15</span>:     <span class=\"hljs-type\">var</span> <span class=\"hljs-variable\">room</span> <span class=\"hljs-operator\">=</span> <span class=\"hljs-keyword\">new</span> <span class=\"hljs-title class_\">Room</span>(); <span class=\"hljs-comment\">// Create the inner class instance</span>\n<span class=\"hljs-number\">16</span>:     room.enter();\n<span class=\"hljs-number\">17</span>: }\n<span class=\"hljs-number\">18</span>:   <span class=\"hljs-keyword\">public</span> <span class=\"hljs-keyword\">static</span> <span class=\"hljs-keyword\">void</span> <span class=\"hljs-title function_\">main</span><span class=\"hljs-params\">(String[] args)</span> {\n<span class=\"hljs-number\">19</span>:     <span class=\"hljs-type\">var</span> <span class=\"hljs-variable\">home</span> <span class=\"hljs-operator\">=</span> <span class=\"hljs-keyword\">new</span> <span class=\"hljs-title class_\">Home</span>();  <span class=\"hljs-comment\">// Create the outer class instance</span>\n<span class=\"hljs-number\">20</span>:     home.enterRoom();\n<span class=\"hljs-number\">21</span>: } }\n</code></pre>","children":[{"content":"An inner class declaration looks just like a stand-alone class declaration except that it happens to be located<br>\ninside another class. Line 7 shows that the inner class just refers to <code>greeting</code> as if it were available in the<br>\n<code>Room</code> class. This works because it is, in fact, available. Even though the variable is <code>private</code>, it is accessed<br>\nwithin that same class.","children":[],"payload":{"tag":"li","lines":"45,49"}},{"content":"Since an inner class is not <code>static</code>, it has to be called using an instance of the outer class. That means you have<br>\nto create two objects. Line 19 creates the outer <code>Home</code> object, while line 15 creates the inner <code>Room</code> object. It&#x2019;s<br>\nimportant to notice that line 15 doesn&#x2019;t require an explicit instance of <code>Home</code> because it is an instance method<br>\nwithin <code>Home</code>. This works because <code>enterRoom()</code> is an instance method within the <code>Home</code> class. Both <code>Room</code><br>\nand <code>enterRoom()</code> are members of <code>Home</code>.","children":[{"content":"<strong>Creating an Instance of an Inner Class</strong><br>\nThere is another way to instantiate <code>Room</code> that looks odd at first. OK, well, maybe not<br>\njust at first.  This syntax isn&#x2019;t used often enough to get used to it:<pre data-lines=\"57,64\"><code class=\"language-java\"><span class=\"hljs-number\">20</span>:   <span class=\"hljs-keyword\">public</span> <span class=\"hljs-keyword\">static</span> <span class=\"hljs-keyword\">void</span> <span class=\"hljs-title function_\">main</span><span class=\"hljs-params\">(String[] args)</span> {\n<span class=\"hljs-number\">21</span>:     <span class=\"hljs-type\">var</span> <span class=\"hljs-variable\">home</span> <span class=\"hljs-operator\">=</span> <span class=\"hljs-keyword\">new</span> <span class=\"hljs-title class_\">Home</span>();\n<span class=\"hljs-number\">22</span>:     <span class=\"hljs-type\">Room</span> <span class=\"hljs-variable\">room</span> <span class=\"hljs-operator\">=</span> home.<span class=\"hljs-keyword\">new</span> <span class=\"hljs-title class_\">Room</span>(); <span class=\"hljs-comment\">// Create the inner class instance</span>\n<span class=\"hljs-number\">23</span>:     room.enter();\n<span class=\"hljs-number\">24</span>:   }\n</code></pre>","children":[{"content":"Let&#x2019;s take a closer look at lines 21 and 22. We need an instance of <code>Home</code> to create a <code>Room</code>.<br>\nWe can&#x2019;t just call <code>new Room()</code> inside the <code>static main()</code> method, because Java won&#x2019;t know<br>\nwhich instance of <code>Home</code> it is associated with. Java solves this by calling <code>new</code> as if it were<br>\na method on the <code>home</code> variable. We can shorten lines 21&#x2013;23 to a single line:<pre data-lines=\"68,71\"><code class=\"language-java\"><span class=\"hljs-number\">21</span>:     <span class=\"hljs-keyword\">new</span> <span class=\"hljs-title class_\">Home</span>().<span class=\"hljs-keyword\">new</span> <span class=\"hljs-title class_\">Room</span>().enter(); <span class=\"hljs-comment\">// Sorry, it looks ugly to us too!</span>\n</code></pre>","children":[],"payload":{"tag":"li","lines":"64,71"}}],"payload":{"tag":"li","lines":"54,71"}}],"payload":{"tag":"li","lines":"49,71"}}],"payload":{"tag":"li","lines":"21,71"}}],"payload":{"tag":"li","lines":"14,71"}}],"payload":{"tag":"li","lines":"10,71"}}],"payload":{"tag":"li","lines":"7,71"}}],"payload":{"tag":"li","lines":"1,71"}},{"content":"<strong>Referencing Members of an Inner Class</strong><br>\nInner classes can have the same variable names as outer classes, making scope a little<br>\ntricky. There is a special way of calling <code>this</code> to say which variable you want to access.<br>\nIn fact, you aren&#x2019;t limited to just one inner class. While the following is common on the<br>\nexam, please never do this in code you write. Here is how to nest multiple classes and<br>\naccess a variable with the same name in each:","children":[{"content":"\n<pre data-lines=\"77,97\"><code class=\"language-java\"><span class=\"hljs-number\">1</span>: <span class=\"hljs-keyword\">public</span> <span class=\"hljs-keyword\">class</span> <span class=\"hljs-title class_\">A</span> {\n<span class=\"hljs-number\">2</span>:   <span class=\"hljs-keyword\">private</span> <span class=\"hljs-type\">int</span> <span class=\"hljs-variable\">x</span> <span class=\"hljs-operator\">=</span> <span class=\"hljs-number\">10</span>;\n<span class=\"hljs-number\">3</span>:   <span class=\"hljs-keyword\">class</span> <span class=\"hljs-title class_\">B</span> {\n<span class=\"hljs-number\">4</span>:     <span class=\"hljs-keyword\">private</span> <span class=\"hljs-type\">int</span> <span class=\"hljs-variable\">x</span> <span class=\"hljs-operator\">=</span> <span class=\"hljs-number\">20</span>;\n<span class=\"hljs-number\">5</span>:       <span class=\"hljs-keyword\">class</span> <span class=\"hljs-title class_\">C</span> {\n<span class=\"hljs-number\">6</span>:         <span class=\"hljs-keyword\">private</span> <span class=\"hljs-type\">int</span> <span class=\"hljs-variable\">x</span> <span class=\"hljs-operator\">=</span> <span class=\"hljs-number\">30</span>;\n<span class=\"hljs-number\">7</span>:         <span class=\"hljs-keyword\">public</span> <span class=\"hljs-keyword\">void</span> <span class=\"hljs-title function_\">allTheX</span><span class=\"hljs-params\">()</span> {\n<span class=\"hljs-number\">8</span>:           System.out.println(x);         <span class=\"hljs-comment\">// 30</span>\n<span class=\"hljs-number\">9</span>:           System.out.println(<span class=\"hljs-built_in\">this</span>.x);    <span class=\"hljs-comment\">// 30</span>\n<span class=\"hljs-number\">10</span>:          System.out.println(B.<span class=\"hljs-built_in\">this</span>.x);  <span class=\"hljs-comment\">// 20</span>\n<span class=\"hljs-number\">11</span>:          System.out.println(A.<span class=\"hljs-built_in\">this</span>.x);  <span class=\"hljs-comment\">// 10</span>\n<span class=\"hljs-number\">12</span>:   } } }\n<span class=\"hljs-number\">13</span>:   <span class=\"hljs-keyword\">public</span> <span class=\"hljs-keyword\">static</span> <span class=\"hljs-keyword\">void</span> <span class=\"hljs-title function_\">main</span><span class=\"hljs-params\">(String[] args)</span> {\n<span class=\"hljs-number\">14</span>:     <span class=\"hljs-type\">A</span> <span class=\"hljs-variable\">a</span> <span class=\"hljs-operator\">=</span> <span class=\"hljs-keyword\">new</span> <span class=\"hljs-title class_\">A</span>();\n<span class=\"hljs-number\">15</span>:     A.<span class=\"hljs-type\">B</span> <span class=\"hljs-variable\">b</span> <span class=\"hljs-operator\">=</span> a.<span class=\"hljs-keyword\">new</span> <span class=\"hljs-title class_\">B</span>();\n<span class=\"hljs-number\">16</span>:     A.B.<span class=\"hljs-type\">C</span> <span class=\"hljs-variable\">c</span> <span class=\"hljs-operator\">=</span> b.<span class=\"hljs-keyword\">new</span> <span class=\"hljs-title class_\">C</span>();\n<span class=\"hljs-number\">17</span>:     c.allTheX();\n<span class=\"hljs-number\">18</span>: }}\n</code></pre>","children":[{"content":"Yes, this code makes us cringe too. It has two nested classes. Line 14 instantiates the outermost one.<br>\nLine 15 uses the awkward syntax to instantiate a <code>B</code>. Notice that the type is <code>A.B</code>. We could have written<br>\n<code>B</code> as the type because that is available at the member level of <code>A</code>. Java knows where to look for it. On<br>\nline 16, we instantiate a <code>C</code>. This time, the <code>A.B.C</code> type is necessary to specify. <code>C</code> is too deep for Java to<br>\nknow where to look. Then line 17 calls a method on the instance variable <code>c</code>.<br>\nLines 8 and 9 are the type of code that we are used to seeing. They refer to the instance variable on<br>\nthe current class&#x2014;the one declared on line 6, to be precise. Line 10 uses <code>this</code> in a special way. We still<br>\nwant an instance variable. But this time, we want the one on the <code>B</code> class, which is the variable on line 4.<br>\nLine 11 does the same thing for class <code>A</code>, getting the variable from line 2.","children":[{"content":"<strong>Inner Classes Require an Instance</strong><br>\nTake a look at the following and see whether you can<br>\nfigure out why two of the three constructor calls do not<br>\ncompile:<pre data-lines=\"110,127\"><code class=\"language-java\"><span class=\"hljs-keyword\">public</span> <span class=\"hljs-keyword\">class</span> <span class=\"hljs-title class_\">Fox</span> {\n  <span class=\"hljs-keyword\">private</span> <span class=\"hljs-keyword\">class</span> <span class=\"hljs-title class_\">Den</span> {}\n  <span class=\"hljs-keyword\">public</span> <span class=\"hljs-keyword\">void</span> <span class=\"hljs-title function_\">goHome</span><span class=\"hljs-params\">()</span> {\n    <span class=\"hljs-keyword\">new</span> <span class=\"hljs-title class_\">Den</span>();\n  }\n  <span class=\"hljs-keyword\">public</span> <span class=\"hljs-keyword\">static</span> <span class=\"hljs-keyword\">void</span> <span class=\"hljs-title function_\">visitFriend</span><span class=\"hljs-params\">()</span> {\n    <span class=\"hljs-keyword\">new</span> <span class=\"hljs-title class_\">Den</span>(); <span class=\"hljs-comment\">// DOES NOT COMPILE</span>\n  }\n}\n\n<span class=\"hljs-keyword\">public</span> <span class=\"hljs-keyword\">class</span> <span class=\"hljs-title class_\">Squirrel</span> {\n  <span class=\"hljs-keyword\">public</span> <span class=\"hljs-keyword\">void</span> <span class=\"hljs-title function_\">visitFox</span><span class=\"hljs-params\">()</span> {\n    <span class=\"hljs-keyword\">new</span> <span class=\"hljs-title class_\">Den</span>(); <span class=\"hljs-comment\">// DOES NOT COMPILE</span>\n  }\n}\n</code></pre>","children":[{"content":"The first constructor call compiles because <code>goHome()</code> is an instance method, and therefore the call is associated<br>\nwith the this instance. The second call does not compile because it is called inside a <code>static</code> method. You can still<br>\ncall the constructor, but you have to explicitly give it a reference to a <code>Fox</code> instance.<br>\nThe last constructor call does not compile for two reasons. Even though it is an instance method, it is not an<br>\ninstance method inside the <code>Fox</code> class. Adding a <code>Fox</code> reference would not fix the problem entirely, though. <code>Den</code><br>\nis <code>private</code> and not accessible in the <code>Squirrel</code> class.","children":[{"content":"<strong>Creating a <code>static</code> Nested Class</strong><br>\nA <code>static</code> nested class is a <code>static</code> type defined at the member level. Unlike an inner class, a <code>static</code> nested<br>\nclass can be instantiated without an instance of the enclosing class. <strong>Static nested classes cannot<br>\naccess instance variables and methods declared in the outer class.</strong>","children":[{"content":"In other words, it is like a top-level class except for the following:<br>\n* The nesting creates a namespace because the enclosing class name must be used to refer to it.<br>\n* It can additionally be marked <code>private</code> or <code>protected</code>.<br>\n* The enclosing class can refer to the fields and methods of the <code>static</code> nested class.","children":[{"content":"Let&#x2019;s take a look at an example:<pre data-lines=\"142,152\"><code class=\"language-java\"><span class=\"hljs-number\">1</span>: <span class=\"hljs-keyword\">public</span> <span class=\"hljs-keyword\">class</span> <span class=\"hljs-title class_\">Park</span> {\n<span class=\"hljs-number\">2</span>:   <span class=\"hljs-keyword\">static</span> <span class=\"hljs-keyword\">class</span> <span class=\"hljs-title class_\">Ride</span> {\n<span class=\"hljs-number\">3</span>:     <span class=\"hljs-keyword\">private</span> <span class=\"hljs-type\">int</span> <span class=\"hljs-variable\">price</span> <span class=\"hljs-operator\">=</span> <span class=\"hljs-number\">6</span>;\n<span class=\"hljs-number\">4</span>:   }\n<span class=\"hljs-number\">5</span>:   <span class=\"hljs-keyword\">public</span> <span class=\"hljs-keyword\">static</span> <span class=\"hljs-keyword\">void</span> <span class=\"hljs-title function_\">main</span><span class=\"hljs-params\">(String[] args)</span> {\n<span class=\"hljs-number\">6</span>:     <span class=\"hljs-type\">var</span> <span class=\"hljs-variable\">ride</span> <span class=\"hljs-operator\">=</span> <span class=\"hljs-keyword\">new</span> <span class=\"hljs-title class_\">Ride</span>();\n<span class=\"hljs-number\">7</span>:     System.out.println(ride.price);\n<span class=\"hljs-number\">8</span>:  } }\n</code></pre>\nLine 6 instantiates the nested class. Since the class is <code>static</code>,<br>\nyou do not need an instance of <code>Park</code> to use it. You are<br>\nallowed to access <code>private</code> instance variables, as shown on<br>\nline 7.","children":[],"payload":{"tag":"li","lines":"141,156"}}],"payload":{"tag":"li","lines":"137,156"}}],"payload":{"tag":"li","lines":"133,156"}}],"payload":{"tag":"li","lines":"127,156"}}],"payload":{"tag":"li","lines":"106,156"}}],"payload":{"tag":"li","lines":"97,156"}}],"payload":{"tag":"li","lines":"77,156"}}],"payload":{"tag":"li","lines":"71,156"}},{"content":"<strong style=\"color:green\">Nested Records are Implicitly <code>static</code></strong><br>\nIf you see a nested record, it is implicitly <code>static</code>. This means it can be used without a reference<br>\nto the outer class. It also means <strong style=\"color:green\">it cannot access instance members of the outer class.</strong><br>\nWe can compare and contrast this with two implementations of <code>Emu</code>, one that uses a record<br>\nand the other that uses a class.","children":[{"content":"\n<pre data-lines=\"161,182\"><code class=\"language-java\"><span class=\"hljs-number\">11</span>: <span class=\"hljs-keyword\">class</span> <span class=\"hljs-title class_\">Emu1</span> {\n<span class=\"hljs-number\">12</span>:   <span class=\"hljs-type\">String</span> <span class=\"hljs-variable\">name</span> <span class=\"hljs-operator\">=</span> <span class=\"hljs-string\">&quot;Emmy&quot;</span>;\n<span class=\"hljs-number\">13</span>:   <span class=\"hljs-keyword\">static</span> Feathers <span class=\"hljs-title function_\">createFeathers</span><span class=\"hljs-params\">()</span> {\n<span class=\"hljs-number\">14</span>:     <span class=\"hljs-keyword\">return</span> <span class=\"hljs-keyword\">new</span> <span class=\"hljs-title class_\">Feathers</span>(<span class=\"hljs-string\">&quot;grey&quot;</span>);\n<span class=\"hljs-number\">15</span>:   }\n<span class=\"hljs-number\">16</span>:   <span class=\"hljs-keyword\">record</span> <span class=\"hljs-title class_\">Feathers</span><span class=\"hljs-params\">(String color)</span> {\n<span class=\"hljs-number\">17</span>:     <span class=\"hljs-keyword\">void</span> <span class=\"hljs-title function_\">fly</span><span class=\"hljs-params\">()</span> {\n<span class=\"hljs-number\">18</span>:       System.out.print(name + <span class=\"hljs-string\">&quot; is flying&quot;</span>); <span class=\"hljs-comment\">// DOES NOT COMPILE</span>\n<span class=\"hljs-number\">19</span>:   } } }\n<span class=\"hljs-number\">20</span>:\n<span class=\"hljs-number\">21</span>: <span class=\"hljs-keyword\">class</span> <span class=\"hljs-title class_\">Emu2</span> {\n<span class=\"hljs-number\">22</span>:   <span class=\"hljs-type\">String</span> <span class=\"hljs-variable\">name</span> <span class=\"hljs-operator\">=</span> <span class=\"hljs-string\">&quot;Emmy&quot;</span>;\n<span class=\"hljs-number\">23</span>:   <span class=\"hljs-keyword\">static</span> Feathers <span class=\"hljs-title function_\">createFeathers</span><span class=\"hljs-params\">()</span> {\n<span class=\"hljs-number\">24</span>:     <span class=\"hljs-keyword\">return</span> <span class=\"hljs-keyword\">new</span> <span class=\"hljs-title class_\">Feathers</span>(<span class=\"hljs-string\">&quot;grey&quot;</span>); <span class=\"hljs-comment\">// DOES NOT COMPILE</span>\n<span class=\"hljs-number\">25</span>:   }\n<span class=\"hljs-number\">26</span>:   <span class=\"hljs-keyword\">class</span> <span class=\"hljs-title class_\">Feathers</span> {\n<span class=\"hljs-number\">27</span>:     <span class=\"hljs-keyword\">void</span> <span class=\"hljs-title function_\">fly</span><span class=\"hljs-params\">()</span> {\n<span class=\"hljs-number\">28</span>:     System.out.print(name + <span class=\"hljs-string\">&quot; is flying&quot;</span>);\n<span class=\"hljs-number\">29</span>:   } } }\n</code></pre>","children":[{"content":"Line 14 compiles without issue because the record is implicitly <code>static</code>. Line 24 does not compile,<br>\nthough, as the class version of <code>Feathers</code> is not <code>static</code> and would require an instance of <code>Emu2</code> to<br>\ncreate. Likewise, the outer variable, <code>name</code>, is only visible to the nested class if it is not <code>static</code>, as<br>\nshown by line 28 compiling and line 18 not compiling.","children":[{"content":"<strong>Writing a Local Class</strong><br>\nA local class is a nested class defined within a method. Like local variables, a local class declaration<br>\ndoes not exist until the method is invoked, and it goes out of scope when the method returns. This<br>\nmeans you can create instances only from within the method. Those instances can still be returned<br>\nfrom the method. This is just how local variables work. They can be declared inside constructors and<br>\ninitializers","children":[{"content":"Local classes have the following properties:<br>\n* Do not have an access modifier (like local variables).<br>\n* The <code>static</code> keyword must not be used (like local variables).<br>\n* Can be declared <code>final</code> or <code>abstract</code>.<br>\n* Can include instance and <code>static</code> members.<br>\n* Have access to all fields and methods of the enclosing class (when<br>\ndefined in an instance method).<br>\n* Can access <code>final</code> and effectively final local variables.","children":[{"content":"For an example<pre data-lines=\"201,220\"><code class=\"language-java\"><span class=\"hljs-number\">1</span>: <span class=\"hljs-keyword\">public</span> <span class=\"hljs-keyword\">class</span> <span class=\"hljs-title class_\">PrintNumbers</span> {\n<span class=\"hljs-number\">2</span>:   <span class=\"hljs-keyword\">private</span> <span class=\"hljs-type\">int</span> <span class=\"hljs-variable\">length</span> <span class=\"hljs-operator\">=</span> <span class=\"hljs-number\">5</span>;\n<span class=\"hljs-number\">3</span>:   <span class=\"hljs-keyword\">public</span> <span class=\"hljs-keyword\">void</span> <span class=\"hljs-title function_\">calculate</span><span class=\"hljs-params\">()</span> {\n<span class=\"hljs-number\">4</span>:     <span class=\"hljs-keyword\">final</span> <span class=\"hljs-type\">int</span> <span class=\"hljs-variable\">width</span> <span class=\"hljs-operator\">=</span> <span class=\"hljs-number\">20</span>;\n<span class=\"hljs-number\">5</span>:     <span class=\"hljs-keyword\">class</span> <span class=\"hljs-title class_\">Calculator</span> {\n<span class=\"hljs-number\">6</span>:       <span class=\"hljs-keyword\">public</span> <span class=\"hljs-keyword\">void</span> <span class=\"hljs-title function_\">multiply</span><span class=\"hljs-params\">()</span> {\n<span class=\"hljs-number\">7</span>:         System.out.print(length * width);\n<span class=\"hljs-number\">8</span>:       }\n<span class=\"hljs-number\">9</span>:     }\n<span class=\"hljs-number\">10</span>:    <span class=\"hljs-type\">var</span> <span class=\"hljs-variable\">calculator</span> <span class=\"hljs-operator\">=</span> <span class=\"hljs-keyword\">new</span> <span class=\"hljs-title class_\">Calculator</span>();\n<span class=\"hljs-number\">11</span>:    calculator.multiply();\n<span class=\"hljs-number\">12</span>:   }\n<span class=\"hljs-number\">13</span>:   <span class=\"hljs-keyword\">public</span> <span class=\"hljs-keyword\">static</span> <span class=\"hljs-keyword\">void</span> <span class=\"hljs-title function_\">main</span><span class=\"hljs-params\">(String[] args)</span> {\n<span class=\"hljs-number\">14</span>:     <span class=\"hljs-type\">var</span> <span class=\"hljs-variable\">printer</span> <span class=\"hljs-operator\">=</span> <span class=\"hljs-keyword\">new</span> <span class=\"hljs-title class_\">PrintNumbers</span>();\n<span class=\"hljs-number\">15</span>:     printer.calculate(); <span class=\"hljs-comment\">// 100</span>\n<span class=\"hljs-number\">16</span>:   }\n<span class=\"hljs-number\">17</span>: }\n</code></pre>","children":[{"content":"Lines 5&#x2013;9 are the local class. That class&#x2019;s scope ends on line 12, where the method<br>\nends. Line 7 refers  to an instance variable and a final local variable, so both variable<br>\nreferences are allowed from within the local class.","children":[],"payload":{"tag":"li","lines":"220,223"}},{"content":"Earlier, we made the statement that local variable references are<br>\nallowed if they are <code>final</code> or effectively final. As an illustrative example,<br>\nconsider the following:<pre data-lines=\"226,239\"><code class=\"language-java\"><span class=\"hljs-keyword\">public</span> <span class=\"hljs-keyword\">void</span> <span class=\"hljs-title function_\">processData</span><span class=\"hljs-params\">()</span> {\n  <span class=\"hljs-keyword\">final</span> <span class=\"hljs-type\">int</span> <span class=\"hljs-variable\">length</span> <span class=\"hljs-operator\">=</span> <span class=\"hljs-number\">5</span>;\n  <span class=\"hljs-type\">int</span> <span class=\"hljs-variable\">width</span> <span class=\"hljs-operator\">=</span> <span class=\"hljs-number\">10</span>;\n  <span class=\"hljs-type\">int</span> <span class=\"hljs-variable\">height</span> <span class=\"hljs-operator\">=</span> <span class=\"hljs-number\">2</span>;\n  <span class=\"hljs-keyword\">class</span> <span class=\"hljs-title class_\">VolumeCalculator</span> {\n    <span class=\"hljs-keyword\">public</span> <span class=\"hljs-type\">int</span> <span class=\"hljs-title function_\">multiply</span><span class=\"hljs-params\">()</span> {\n      <span class=\"hljs-keyword\">return</span> length * width * height; <span class=\"hljs-comment\">// DOES NOT COMPILE</span>\n    }\n  }\n  width = <span class=\"hljs-number\">2</span>;<span class=\"hljs-comment\">//It is not effectively final</span>\n}\n</code></pre>","children":[{"content":"The <code>length</code> and <code>height</code> variables are <code>final</code> and effectively final, respectively, so neither causes<br>\na compilation issue. On the other hand, the <code>width</code> variable is reassigned during the method,<br>\nso it cannot be effectively final. For this reason, the local class declaration does not compile.","children":[],"payload":{"tag":"li","lines":"239,242"}}],"payload":{"tag":"li","lines":"223,242"}}],"payload":{"tag":"li","lines":"200,242"}}],"payload":{"tag":"li","lines":"192,242"}}],"payload":{"tag":"li","lines":"186,242"}}],"payload":{"tag":"li","lines":"182,242"}}],"payload":{"tag":"li","lines":"161,242"}}],"payload":{"tag":"li","lines":"156,242"}},{"content":"<strong>Defining an Anonymous Class</strong><br>\nAn anonymous class is a specialized form of a local class that does not have a name. It is<br>\ndeclared and instantiated all in one statement using the <code>new</code> keyword, a type name with<br>\nparentheses, and a set of braces <code>{}</code>. Anonymous classes must extend an existing class or<br>\nimplement an existing interface. They are useful when you have a short implementation<br>\nthat will not be used anywhere else. Here&#x2019;s an example:","children":[{"content":"\n<pre data-lines=\"248,260\"><code class=\"language-java\"><span class=\"hljs-number\">1</span>: <span class=\"hljs-keyword\">public</span> <span class=\"hljs-keyword\">class</span> <span class=\"hljs-title class_\">ZooGiftShop</span> {\n<span class=\"hljs-number\">2</span>:   <span class=\"hljs-keyword\">abstract</span> <span class=\"hljs-keyword\">class</span> <span class=\"hljs-title class_\">SaleTodayOnly</span> {\n<span class=\"hljs-number\">3</span>:     <span class=\"hljs-keyword\">abstract</span> <span class=\"hljs-type\">int</span> <span class=\"hljs-title function_\">dollarsOff</span><span class=\"hljs-params\">()</span>;\n<span class=\"hljs-number\">4</span>:  }\n<span class=\"hljs-number\">5</span>:  <span class=\"hljs-keyword\">public</span> <span class=\"hljs-type\">int</span> <span class=\"hljs-title function_\">admission</span><span class=\"hljs-params\">(<span class=\"hljs-type\">int</span> basePrice)</span> {\n<span class=\"hljs-number\">6</span>:    <span class=\"hljs-type\">SaleTodayOnly</span> <span class=\"hljs-variable\">sale</span> <span class=\"hljs-operator\">=</span> <span class=\"hljs-keyword\">new</span> <span class=\"hljs-title class_\">SaleTodayOnly</span>() {\n<span class=\"hljs-number\">7</span>:      <span class=\"hljs-type\">int</span> <span class=\"hljs-title function_\">dollarsOff</span><span class=\"hljs-params\">()</span> { <span class=\"hljs-keyword\">return</span> <span class=\"hljs-number\">3</span>; }\n<span class=\"hljs-number\">8</span>:    }; <span class=\"hljs-comment\">// Don&apos;t forget the semicolon!</span>\n<span class=\"hljs-number\">9</span>:    <span class=\"hljs-keyword\">return</span> basePrice - sale.dollarsOff();\n<span class=\"hljs-number\">10</span>: } }\n</code></pre>","children":[{"content":"Lines 2&#x2013;4 define an <code>abstract</code> class. Lines 6&#x2013;8 define the anonymous class. Notice how this anonymous<br>\nclass does not have a name. The code says to instantiate a new <code>SaleTodayOnly</code> object. But wait:<br>\n<code>SaleTodayOnly</code> is <code>abstract</code>. This is OK because we provide the class body right there, anonymously.<br>\nIn this example, writing an anonymous class is equivalent to writing a local class with an unspecified<br>\nname that extends <code>SaleTodayOnly</code> and immediately uses it.<br>\n<strong>Pay special attention to the semicolon on line 8. We are declaring a local variable on these lines.</strong><br>\nLocal variable declarations are required to end with semicolons, just like other Java statements, even if<br>\nthey are long and happen to contain an anonymous class.","children":[{"content":"Now we convert this same example to implement an interface<br>\ninstead of extending an <code>abstract</code> class:<pre data-lines=\"270,282\"><code class=\"language-java\"><span class=\"hljs-number\">1</span>: <span class=\"hljs-keyword\">public</span> <span class=\"hljs-keyword\">class</span> <span class=\"hljs-title class_\">ZooGiftShop</span> {\n<span class=\"hljs-number\">2</span>:   <span class=\"hljs-keyword\">interface</span> <span class=\"hljs-title class_\">SaleTodayOnly</span> {\n<span class=\"hljs-number\">3</span>:     <span class=\"hljs-type\">int</span> <span class=\"hljs-title function_\">dollarsOff</span><span class=\"hljs-params\">()</span>;\n<span class=\"hljs-number\">4</span>:   }\n<span class=\"hljs-number\">5</span>:   <span class=\"hljs-keyword\">public</span> <span class=\"hljs-type\">int</span> <span class=\"hljs-title function_\">admission</span><span class=\"hljs-params\">(<span class=\"hljs-type\">int</span> basePrice)</span> {\n<span class=\"hljs-number\">6</span>:     <span class=\"hljs-type\">var</span> <span class=\"hljs-variable\">sale</span> <span class=\"hljs-operator\">=</span> <span class=\"hljs-keyword\">new</span> <span class=\"hljs-title class_\">SaleTodayOnly</span>() {\n<span class=\"hljs-number\">7</span>:        <span class=\"hljs-keyword\">public</span> <span class=\"hljs-type\">int</span> <span class=\"hljs-title function_\">dollarsOff</span><span class=\"hljs-params\">()</span> { <span class=\"hljs-keyword\">return</span> <span class=\"hljs-number\">3</span>; }\n<span class=\"hljs-number\">8</span>:     };\n<span class=\"hljs-number\">9</span>:     <span class=\"hljs-keyword\">return</span> basePrice - sale.dollarsOff();\n<span class=\"hljs-number\">10</span>: } }\n</code></pre>","children":[{"content":"The most interesting thing here is how little has changed. Lines 2&#x2013;4 declare an <code>interface</code><br>\ninstead of an <code>abstract</code> class. Line 7 is <code>public</code> instead of using default access since<br>\ninterfaces require  <code>abstract</code> methods to be <code>public</code>. And that is it. The anonymous class is<br>\nthe same whether you implement an interface or extend a class! Java figures out which<br>\none you want automatically. Just remember that in this second example, an instance of<br>\na class is created on line 6, not an interface.<br>\nBut what if we want to both implement an <code>interface</code> and extend a class? You can&#x2019;t do so<br>\nwith an anonymous class unless the class to extend is <code>java.lang.Object</code>. The <code>Object</code><br>\nclass doesn&#x2019;t count in the rule.","children":[{"content":"You can even define anonymous classes outside a method body. The following may look<br>\nlike we  are instantiating an interface as an instance variable, but the <code>{}</code> after the interface<br>\nname indicates that this is an anonymous class implementing the interface:<pre data-lines=\"294,300\"><code class=\"language-java\"><span class=\"hljs-keyword\">public</span> <span class=\"hljs-keyword\">class</span> <span class=\"hljs-title class_\">Gorilla</span> {\n  <span class=\"hljs-keyword\">interface</span> <span class=\"hljs-title class_\">Climb</span> {}\n  <span class=\"hljs-type\">Climb</span> <span class=\"hljs-variable\">climbing</span> <span class=\"hljs-operator\">=</span> <span class=\"hljs-keyword\">new</span> <span class=\"hljs-title class_\">Climb</span>() {};\n}\n</code></pre>","children":[{"content":"\n<p data-lines=\"300,303\">For the exam, make sure you know the information in Table 7.4 about which syntax<br>\nrules are permitted in Java. <br><br>\n<strong>TABLE 7.4</strong> Modifiers in nested classes</p>\n<table data-lines=\"303,308\">\n<thead data-lines=\"303,304\">\n<tr data-lines=\"303,304\">\n<th>Permitted modifiers</th>\n<th>Inner class</th>\n<th><code>static</code> nested class</th>\n<th>Local class</th>\n<th>Anonymous class</th>\n</tr>\n</thead>\n<tbody data-lines=\"305,308\">\n<tr data-lines=\"305,306\">\n<td>Access modifiers</td>\n<td>All</td>\n<td>All</td>\n<td>None</td>\n<td>None</td>\n</tr>\n<tr data-lines=\"306,307\">\n<td><code>abstract</code></td>\n<td>Yes</td>\n<td>Yes</td>\n<td>Yes</td>\n<td>No</td>\n</tr>\n<tr data-lines=\"307,308\">\n<td><code>final</code></td>\n<td>Yes</td>\n<td>Yes</td>\n<td>Yes</td>\n<td>No</td>\n</tr>\n</tbody>\n</table>\n<br>\n<p data-lines=\"311,314\">You should also know the information in Table 7.5 about types of access. For example,<br>\nthe exam might try to trick you by having a <code>static</code> class access an outer class instance<br>\nvariable without a reference to the outer class.</p>","children":[{"content":"<strong>TABLE 7.5</strong> Nested class access rules\n<table data-lines=\"315,321\">\n<thead data-lines=\"315,316\">\n<tr data-lines=\"315,316\">\n<th></th>\n<th>Inner class</th>\n<th><code>static</code> nested class</th>\n<th>Local class</th>\n<th>Anonymous class</th>\n</tr>\n</thead>\n<tbody data-lines=\"317,321\">\n<tr data-lines=\"317,318\">\n<td>Can include instance and <code>static</code> members?</td>\n<td>Yes</td>\n<td>Yes</td>\n<td>Yes</td>\n<td>Yes</td>\n</tr>\n<tr data-lines=\"318,319\">\n<td>Can extend a class or implement any number<br> of interfaces?</td>\n<td>Yes</td>\n<td>Yes</td>\n<td>Yes</td>\n<td>No, must have exactly<br> one superclass or one <br>interface</td>\n</tr>\n<tr data-lines=\"319,320\">\n<td>Can access instance members of enclosing <br>class?</td>\n<td>Yes</td>\n<td>No</td>\n<td>Yes (if <code>final</code> or<br> effectively final)</td>\n<td>Yes (if <code>final</code> or<br> effectively final)</td>\n</tr>\n<tr data-lines=\"320,321\">\n<td>Can access local variables of enclosing<br> method?</td>\n<td>N/A</td>\n<td>N/A</td>\n<td>Yes (if <code>final</code> or<br> effectively final)</td>\n<td>Yes (if <code>final</code> or<br> effectively final)</td>\n</tr>\n</tbody>\n</table>","children":[],"payload":{"tag":"li","lines":"314,323"}}],"payload":{"tag":"li","lines":"300,323"}}],"payload":{"tag":"li","lines":"291,323"}}],"payload":{"tag":"li","lines":"282,323"}}],"payload":{"tag":"li","lines":"268,323"}}],"payload":{"tag":"li","lines":"260,323"}}],"payload":{"tag":"li","lines":"248,323"}}],"payload":{"tag":"li","lines":"242,323"}}],"payload":{"tag":"h1","lines":"0,1"}},{})</script>
</body>
</html>
